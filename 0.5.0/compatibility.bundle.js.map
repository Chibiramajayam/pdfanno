{"version":3,"sources":["webpack://PDFAnnoCore/webpack/universalModuleDefinition","webpack://PDFAnnoCore/webpack/bootstrap","webpack://PDFAnnoCore/./src/compatibility.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","PDFJS","this","Uint8Array","subarray","start","end","slice","Float32Array","Float64Array","TypedArray","setArrayOffset","array","offset","arguments","length","arg1","result","buffer","byteLength","set","Int8Array","Uint32Array","Int32Array","Uint16Array","URL","webkitURL","definePropertyPossible","Image","Test","id","configurable","writable","e","obj","def","__defineGetter__","__defineSetter__","xhrPrototype","XMLHttpRequest","xhr","mimeType","disableWorker","_responseType","overrideMimeType","VBArray","responseType","responseText","text","charCodeAt","responseBody","toArray","digits","btoa","chars","b1","b2","b3","d2","d3","d4","charAt","atob","input","replace","Error","bs","bc","idx","output","String","fromCharCode","indexOf","Function","fn","headArgs","Array","args","concat","apply","document","createElement","HTMLElement","_dataset","dataset","j","jj","attributes","attribute","substring","all","ch","toUpperCase","classListPrototype","add","changeList","element","contains","remove","toggle","_classList","classList","itemName","list","className","split","shift","index","push","splice","join","console","log","msg","error","warn","navigator","userAgent","addEventListener","event","isDisabled","node","disabled","parentNode","target","stopPropagation","disableCreateObjectURL","locale","userLanguage","isSafari","toString","isOldAndroid","test","isChromeWithRangeBug","disableRange","disableStream","history","pushState","disableHistory","CanvasPixelArray","arr","ii","versionMatch","polyfill","match","parseInt","contextPrototype","CanvasRenderingContext2D","createImageData","w","h","imageData","data","fakeRequestAnimationFrame","callback","setTimeout","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","isIOS","isAndroid","maxCanvasPixels","parent","disableFullscreen","scripts","getElementsByTagName"],"mappings":"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","file":"./compatibility.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PDFAnnoCore\"] = factory();\n\telse\n\t\troot[\"PDFAnnoCore\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 62);\n","/*eslint-disable */\r\n/* Copyright 2012 Mozilla Foundation\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/* globals VBArray, PDFJS */\r\n\r\n'use strict';\r\n\r\n// Initializing PDFJS global object here, it case if we need to change/disable\r\n// some PDF.js features, e.g. range requests\r\nif (typeof PDFJS === 'undefined') {\r\n  (typeof window !== 'undefined' ? window : this).PDFJS = {};\r\n}\r\n\r\n// Checking if the typed arrays are supported\r\n// Support: iOS<6.0 (subarray), IE<10, Android<4.0\r\n(function checkTypedArrayCompatibility() {\r\n  if (typeof Uint8Array !== 'undefined') {\r\n    // Support: iOS<6.0\r\n    if (typeof Uint8Array.prototype.subarray === 'undefined') {\r\n        Uint8Array.prototype.subarray = function subarray(start, end) {\r\n          return new Uint8Array(this.slice(start, end));\r\n        };\r\n        Float32Array.prototype.subarray = function subarray(start, end) {\r\n          return new Float32Array(this.slice(start, end));\r\n        };\r\n    }\r\n\r\n    // Support: Android<4.1\r\n    if (typeof Float64Array === 'undefined') {\r\n      window.Float64Array = Float32Array;\r\n    }\r\n    return;\r\n  }\r\n\r\n  function subarray(start, end) {\r\n    return new TypedArray(this.slice(start, end));\r\n  }\r\n\r\n  function setArrayOffset(array, offset) {\r\n    if (arguments.length < 2) {\r\n      offset = 0;\r\n    }\r\n    for (var i = 0, n = array.length; i < n; ++i, ++offset) {\r\n      this[offset] = array[i] & 0xFF;\r\n    }\r\n  }\r\n\r\n  function TypedArray(arg1) {\r\n    var result, i, n;\r\n    if (typeof arg1 === 'number') {\r\n      result = [];\r\n      for (i = 0; i < arg1; ++i) {\r\n        result[i] = 0;\r\n      }\r\n    } else if ('slice' in arg1) {\r\n      result = arg1.slice(0);\r\n    } else {\r\n      result = [];\r\n      for (i = 0, n = arg1.length; i < n; ++i) {\r\n        result[i] = arg1[i];\r\n      }\r\n    }\r\n\r\n    result.subarray = subarray;\r\n    result.buffer = result;\r\n    result.byteLength = result.length;\r\n    result.set = setArrayOffset;\r\n\r\n    if (typeof arg1 === 'object' && arg1.buffer) {\r\n      result.buffer = arg1.buffer;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  window.Uint8Array = TypedArray;\r\n  window.Int8Array = TypedArray;\r\n\r\n  // we don't need support for set, byteLength for 32-bit array\r\n  // so we can use the TypedArray as well\r\n  window.Uint32Array = TypedArray;\r\n  window.Int32Array = TypedArray;\r\n  window.Uint16Array = TypedArray;\r\n  window.Float32Array = TypedArray;\r\n  window.Float64Array = TypedArray;\r\n})();\r\n\r\n// URL = URL || webkitURL\r\n// Support: Safari<7, Android 4.2+\r\n(function normalizeURLObject() {\r\n  if (!window.URL) {\r\n    window.URL = window.webkitURL;\r\n  }\r\n})();\r\n\r\n// Object.defineProperty()?\r\n// Support: Android<4.0, Safari<5.1\r\n(function checkObjectDefinePropertyCompatibility() {\r\n  if (typeof Object.defineProperty !== 'undefined') {\r\n    var definePropertyPossible = true;\r\n    try {\r\n      // some browsers (e.g. safari) cannot use defineProperty() on DOM objects\r\n      // and thus the native version is not sufficient\r\n      Object.defineProperty(new Image(), 'id', { value: 'test' });\r\n      // ... another test for android gb browser for non-DOM objects\r\n      var Test = function Test() {};\r\n      Test.prototype = { get id() { } };\r\n      Object.defineProperty(new Test(), 'id',\r\n        { value: '', configurable: true, enumerable: true, writable: false });\r\n    } catch (e) {\r\n      definePropertyPossible = false;\r\n    }\r\n    if (definePropertyPossible) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  Object.defineProperty = function objectDefineProperty(obj, name, def) {\r\n    delete obj[name];\r\n    if ('get' in def) {\r\n      obj.__defineGetter__(name, def['get']);\r\n    }\r\n    if ('set' in def) {\r\n      obj.__defineSetter__(name, def['set']);\r\n    }\r\n    if ('value' in def) {\r\n      obj.__defineSetter__(name, function objectDefinePropertySetter(value) {\r\n        this.__defineGetter__(name, function objectDefinePropertyGetter() {\r\n          return value;\r\n        });\r\n        return value;\r\n      });\r\n      obj[name] = def.value;\r\n    }\r\n  };\r\n})();\r\n\r\n\r\n// No XMLHttpRequest#response?\r\n// Support: IE<11, Android <4.0\r\n(function checkXMLHttpRequestResponseCompatibility() {\r\n  var xhrPrototype = XMLHttpRequest.prototype;\r\n  var xhr = new XMLHttpRequest();\r\n  if (!('overrideMimeType' in xhr)) {\r\n    // IE10 might have response, but not overrideMimeType\r\n    // Support: IE10\r\n    Object.defineProperty(xhrPrototype, 'overrideMimeType', {\r\n      value: function xmlHttpRequestOverrideMimeType(mimeType) {}\r\n    });\r\n  }\r\n  if ('responseType' in xhr) {\r\n    return;\r\n  }\r\n\r\n  // The worker will be using XHR, so we can save time and disable worker.\r\n  PDFJS.disableWorker = true;\r\n\r\n  Object.defineProperty(xhrPrototype, 'responseType', {\r\n    get: function xmlHttpRequestGetResponseType() {\r\n      return this._responseType || 'text';\r\n    },\r\n    set: function xmlHttpRequestSetResponseType(value) {\r\n      if (value === 'text' || value === 'arraybuffer') {\r\n        this._responseType = value;\r\n        if (value === 'arraybuffer' &&\r\n            typeof this.overrideMimeType === 'function') {\r\n          this.overrideMimeType('text/plain; charset=x-user-defined');\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // Support: IE9\r\n  if (typeof VBArray !== 'undefined') {\r\n    Object.defineProperty(xhrPrototype, 'response', {\r\n      get: function xmlHttpRequestResponseGet() {\r\n        if (this.responseType === 'arraybuffer') {\r\n          return new Uint8Array(new VBArray(this.responseBody).toArray());\r\n        } else {\r\n          return this.responseText;\r\n        }\r\n      }\r\n    });\r\n    return;\r\n  }\r\n\r\n  Object.defineProperty(xhrPrototype, 'response', {\r\n    get: function xmlHttpRequestResponseGet() {\r\n      if (this.responseType !== 'arraybuffer') {\r\n        return this.responseText;\r\n      }\r\n      var text = this.responseText;\r\n      var i, n = text.length;\r\n      var result = new Uint8Array(n);\r\n      for (i = 0; i < n; ++i) {\r\n        result[i] = text.charCodeAt(i) & 0xFF;\r\n      }\r\n      return result.buffer;\r\n    }\r\n  });\r\n})();\r\n\r\n// window.btoa (base64 encode function) ?\r\n// Support: IE<10\r\n(function checkWindowBtoaCompatibility() {\r\n  if ('btoa' in window) {\r\n    return;\r\n  }\r\n\r\n  var digits =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n\r\n  window.btoa = function windowBtoa(chars) {\r\n    var buffer = '';\r\n    var i, n;\r\n    for (i = 0, n = chars.length; i < n; i += 3) {\r\n      var b1 = chars.charCodeAt(i) & 0xFF;\r\n      var b2 = chars.charCodeAt(i + 1) & 0xFF;\r\n      var b3 = chars.charCodeAt(i + 2) & 0xFF;\r\n      var d1 = b1 >> 2, d2 = ((b1 & 3) << 4) | (b2 >> 4);\r\n      var d3 = i + 1 < n ? ((b2 & 0xF) << 2) | (b3 >> 6) : 64;\r\n      var d4 = i + 2 < n ? (b3 & 0x3F) : 64;\r\n      buffer += (digits.charAt(d1) + digits.charAt(d2) +\r\n                 digits.charAt(d3) + digits.charAt(d4));\r\n    }\r\n    return buffer;\r\n  };\r\n})();\r\n\r\n// window.atob (base64 encode function)?\r\n// Support: IE<10\r\n(function checkWindowAtobCompatibility() {\r\n  if ('atob' in window) {\r\n    return;\r\n  }\r\n\r\n  // https://github.com/davidchambers/Base64.js\r\n  var digits =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n  window.atob = function (input) {\r\n    input = input.replace(/=+$/, '');\r\n    if (input.length % 4 === 1) {\r\n      throw new Error('bad atob input');\r\n    }\r\n    for (\r\n      // initialize result and counters\r\n      var bc = 0, bs, buffer, idx = 0, output = '';\r\n      // get next character\r\n      buffer = input.charAt(idx++);\r\n      // character found in table?\r\n      // initialize bit storage and add its ascii value\r\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\r\n        // and if not first of each 4 characters,\r\n        // convert the first 8 bits to one ascii character\r\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\r\n    ) {\r\n      // try to find character in table (0-63, not found => -1)\r\n      buffer = digits.indexOf(buffer);\r\n    }\r\n    return output;\r\n  };\r\n})();\r\n\r\n// Function.prototype.bind?\r\n// Support: Android<4.0, iOS<6.0\r\n(function checkFunctionPrototypeBindCompatibility() {\r\n  if (typeof Function.prototype.bind !== 'undefined') {\r\n    return;\r\n  }\r\n\r\n  Function.prototype.bind = function functionPrototypeBind(obj) {\r\n    var fn = this, headArgs = Array.prototype.slice.call(arguments, 1);\r\n    var bound = function functionPrototypeBindBound() {\r\n      var args = headArgs.concat(Array.prototype.slice.call(arguments));\r\n      return fn.apply(obj, args);\r\n    };\r\n    return bound;\r\n  };\r\n})();\r\n\r\n// HTMLElement dataset property\r\n// Support: IE<11, Safari<5.1, Android<4.0\r\n(function checkDatasetProperty() {\r\n  var div = document.createElement('div');\r\n  if ('dataset' in div) {\r\n    return; // dataset property exists\r\n  }\r\n\r\n  Object.defineProperty(HTMLElement.prototype, 'dataset', {\r\n    get: function() {\r\n      if (this._dataset) {\r\n        return this._dataset;\r\n      }\r\n\r\n      var dataset = {};\r\n      for (var j = 0, jj = this.attributes.length; j < jj; j++) {\r\n        var attribute = this.attributes[j];\r\n        if (attribute.name.substring(0, 5) !== 'data-') {\r\n          continue;\r\n        }\r\n        var key = attribute.name.substring(5).replace(/\\-([a-z])/g,\r\n          function(all, ch) {\r\n            return ch.toUpperCase();\r\n          });\r\n        dataset[key] = attribute.value;\r\n      }\r\n\r\n      Object.defineProperty(this, '_dataset', {\r\n        value: dataset,\r\n        writable: false,\r\n        enumerable: false\r\n      });\r\n      return dataset;\r\n    },\r\n    enumerable: true\r\n  });\r\n})();\r\n\r\n// HTMLElement classList property\r\n// Support: IE<10, Android<4.0, iOS<5.0\r\n(function checkClassListProperty() {\r\n  var div = document.createElement('div');\r\n  if ('classList' in div) {\r\n    return; // classList property exists\r\n  }\r\n\r\n  function changeList(element, itemName, add, remove) {\r\n    var s = element.className || '';\r\n    var list = s.split(/\\s+/g);\r\n    if (list[0] === '') {\r\n      list.shift();\r\n    }\r\n    var index = list.indexOf(itemName);\r\n    if (index < 0 && add) {\r\n      list.push(itemName);\r\n    }\r\n    if (index >= 0 && remove) {\r\n      list.splice(index, 1);\r\n    }\r\n    element.className = list.join(' ');\r\n    return (index >= 0);\r\n  }\r\n\r\n  var classListPrototype = {\r\n    add: function(name) {\r\n      changeList(this.element, name, true, false);\r\n    },\r\n    contains: function(name) {\r\n      return changeList(this.element, name, false, false);\r\n    },\r\n    remove: function(name) {\r\n      changeList(this.element, name, false, true);\r\n    },\r\n    toggle: function(name) {\r\n      changeList(this.element, name, true, true);\r\n    }\r\n  };\r\n\r\n  Object.defineProperty(HTMLElement.prototype, 'classList', {\r\n    get: function() {\r\n      if (this._classList) {\r\n        return this._classList;\r\n      }\r\n\r\n      var classList = Object.create(classListPrototype, {\r\n        element: {\r\n          value: this,\r\n          writable: false,\r\n          enumerable: true\r\n        }\r\n      });\r\n      Object.defineProperty(this, '_classList', {\r\n        value: classList,\r\n        writable: false,\r\n        enumerable: false\r\n      });\r\n      return classList;\r\n    },\r\n    enumerable: true\r\n  });\r\n})();\r\n\r\n// Check console compatibility\r\n// In older IE versions the console object is not available\r\n// unless console is open.\r\n// Support: IE<10\r\n(function checkConsoleCompatibility() {\r\n  if (!('console' in window)) {\r\n    window.console = {\r\n      log: function() {},\r\n      error: function() {},\r\n      warn: function() {}\r\n    };\r\n  } else if (!('bind' in console.log)) {\r\n    // native functions in IE9 might not have bind\r\n    console.log = (function(fn) {\r\n      return function(msg) { return fn(msg); };\r\n    })(console.log);\r\n    console.error = (function(fn) {\r\n      return function(msg) { return fn(msg); };\r\n    })(console.error);\r\n    console.warn = (function(fn) {\r\n      return function(msg) { return fn(msg); };\r\n    })(console.warn);\r\n  }\r\n})();\r\n\r\n// Check onclick compatibility in Opera\r\n// Support: Opera<15\r\n(function checkOnClickCompatibility() {\r\n  // workaround for reported Opera bug DSK-354448:\r\n  // onclick fires on disabled buttons with opaque content\r\n  function ignoreIfTargetDisabled(event) {\r\n    if (isDisabled(event.target)) {\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n  function isDisabled(node) {\r\n    return node.disabled || (node.parentNode && isDisabled(node.parentNode));\r\n  }\r\n  if (navigator.userAgent.indexOf('Opera') !== -1) {\r\n    // use browser detection since we cannot feature-check this bug\r\n    document.addEventListener('click', ignoreIfTargetDisabled, true);\r\n  }\r\n})();\r\n\r\n// Checks if possible to use URL.createObjectURL()\r\n// Support: IE\r\n(function checkOnBlobSupport() {\r\n  // sometimes IE loosing the data created with createObjectURL(), see #3977\r\n  if (navigator.userAgent.indexOf('Trident') >= 0) {\r\n    PDFJS.disableCreateObjectURL = true;\r\n  }\r\n})();\r\n\r\n// Checks if navigator.language is supported\r\n(function checkNavigatorLanguage() {\r\n  if ('language' in navigator) {\r\n    return;\r\n  }\r\n  PDFJS.locale = navigator.userLanguage || 'en-US';\r\n})();\r\n\r\n(function checkRangeRequests() {\r\n  // Safari has issues with cached range requests see:\r\n  // https://github.com/mozilla/pdf.js/issues/3260\r\n  // Last tested with version 6.0.4.\r\n  // Support: Safari 6.0+\r\n  var isSafari = Object.prototype.toString.call(\r\n                  window.HTMLElement).indexOf('Constructor') > 0;\r\n\r\n  // Older versions of Android (pre 3.0) has issues with range requests, see:\r\n  // https://github.com/mozilla/pdf.js/issues/3381.\r\n  // Make sure that we only match webkit-based Android browsers,\r\n  // since Firefox/Fennec works as expected.\r\n  // Support: Android<3.0\r\n  var regex = /Android\\s[0-2][^\\d]/;\r\n  var isOldAndroid = regex.test(navigator.userAgent);\r\n\r\n  // Range requests are broken in Chrome 39 and 40, https://crbug.com/442318\r\n  var isChromeWithRangeBug = /Chrome\\/(39|40)\\./.test(navigator.userAgent);\r\n\r\n  if (isSafari || isOldAndroid || isChromeWithRangeBug) {\r\n    PDFJS.disableRange = true;\r\n    PDFJS.disableStream = true;\r\n  }\r\n})();\r\n\r\n// Check if the browser supports manipulation of the history.\r\n// Support: IE<10, Android<4.2\r\n(function checkHistoryManipulation() {\r\n  // Android 2.x has so buggy pushState support that it was removed in\r\n  // Android 3.0 and restored as late as in Android 4.2.\r\n  // Support: Android 2.x\r\n  if (!history.pushState || navigator.userAgent.indexOf('Android 2.') >= 0) {\r\n    PDFJS.disableHistory = true;\r\n  }\r\n})();\r\n\r\n// Support: IE<11, Chrome<21, Android<4.4, Safari<6\r\n(function checkSetPresenceInImageData() {\r\n  // IE < 11 will use window.CanvasPixelArray which lacks set function.\r\n  if (window.CanvasPixelArray) {\r\n    if (typeof window.CanvasPixelArray.prototype.set !== 'function') {\r\n      window.CanvasPixelArray.prototype.set = function(arr) {\r\n        for (var i = 0, ii = this.length; i < ii; i++) {\r\n          this[i] = arr[i];\r\n        }\r\n      };\r\n    }\r\n  } else {\r\n    // Old Chrome and Android use an inaccessible CanvasPixelArray prototype.\r\n    // Because we cannot feature detect it, we rely on user agent parsing.\r\n    var polyfill = false, versionMatch;\r\n    if (navigator.userAgent.indexOf('Chrom') >= 0) {\r\n      versionMatch = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\r\n      // Chrome < 21 lacks the set function.\r\n      polyfill = versionMatch && parseInt(versionMatch[2]) < 21;\r\n    } else if (navigator.userAgent.indexOf('Android') >= 0) {\r\n      // Android < 4.4 lacks the set function.\r\n      // Android >= 4.4 will contain Chrome in the user agent,\r\n      // thus pass the Chrome check above and not reach this block.\r\n      polyfill = /Android\\s[0-4][^\\d]/g.test(navigator.userAgent);\r\n    } else if (navigator.userAgent.indexOf('Safari') >= 0) {\r\n      versionMatch = navigator.userAgent.\r\n        match(/Version\\/([0-9]+)\\.([0-9]+)\\.([0-9]+) Safari\\//);\r\n      // Safari < 6 lacks the set function.\r\n      polyfill = versionMatch && parseInt(versionMatch[1]) < 6;\r\n    }\r\n\r\n    if (polyfill) {\r\n      var contextPrototype = window.CanvasRenderingContext2D.prototype;\r\n      var createImageData = contextPrototype.createImageData;\r\n      contextPrototype.createImageData = function(w, h) {\r\n        var imageData = createImageData.call(this, w, h);\r\n        imageData.data.set = function(arr) {\r\n          for (var i = 0, ii = this.length; i < ii; i++) {\r\n            this[i] = arr[i];\r\n          }\r\n        };\r\n        return imageData;\r\n      };\r\n      // this closure will be kept referenced, so clear its vars\r\n      contextPrototype = null;\r\n    }\r\n  }\r\n})();\r\n\r\n// Support: IE<10, Android<4.0, iOS\r\n(function checkRequestAnimationFrame() {\r\n  function fakeRequestAnimationFrame(callback) {\r\n    window.setTimeout(callback, 20);\r\n  }\r\n\r\n  var isIOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\r\n  if (isIOS) {\r\n    // requestAnimationFrame on iOS is broken, replacing with fake one.\r\n    window.requestAnimationFrame = fakeRequestAnimationFrame;\r\n    return;\r\n  }\r\n  if ('requestAnimationFrame' in window) {\r\n    return;\r\n  }\r\n  window.requestAnimationFrame =\r\n    window.mozRequestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame ||\r\n    fakeRequestAnimationFrame;\r\n})();\r\n\r\n(function checkCanvasSizeLimitation() {\r\n  var isIOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\r\n  var isAndroid = /Android/g.test(navigator.userAgent);\r\n  if (isIOS || isAndroid) {\r\n    // 5MP\r\n    PDFJS.maxCanvasPixels = 5242880;\r\n  }\r\n})();\r\n\r\n// Disable fullscreen support for certain problematic configurations.\r\n// Support: IE11+ (when embedded).\r\n(function checkFullscreenSupport() {\r\n  var isEmbeddedIE = (navigator.userAgent.indexOf('Trident') >= 0 &&\r\n                      window.parent !== window);\r\n  if (isEmbeddedIE) {\r\n    PDFJS.disableFullscreen = true;\r\n  }\r\n})();\r\n\r\n// Provides document.currentScript support\r\n// Support: IE, Chrome<29.\r\n(function checkCurrentScript() {\r\n  if ('currentScript' in document) {\r\n    return;\r\n  }\r\n  Object.defineProperty(document, 'currentScript', {\r\n    get: function () {\r\n      var scripts = document.getElementsByTagName('script');\r\n      return scripts[scripts.length - 1];\r\n    },\r\n    enumerable: true,\r\n    configurable: true\r\n  });\r\n})();\r\n"],"sourceRoot":""}