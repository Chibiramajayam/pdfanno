!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PDFAnnoCore=t():e.PDFAnnoCore=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=70)}([function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u});var r=n(2);function o(e,t){return t.filter(t=>t===e).length>0}function i(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!0,!0,t),window.dispatchEvent(n)}function a(){return window.location.search.replace("?","").split("&").reduce((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e},{})}function s(e){return document.getElementById(r.c+e)}function l(e){const t=document.getElementById(r.c+e);if(t){const e=t.getElementsByClassName(r.b);if(e.length>0)return e[0]}return null}function u(e){if(void 0===e)e=u({first:1,last:window.PDFView.pdfViewer.pagesCount});else if("number"==typeof e)e=[e];else if(Array.isArray(e));else{if("object"!=typeof e)return[];e=Array.from({length:e.last-e.first+1},(t,n)=>n+e.first)}return e}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";function r({type:e="alert",message:t=""}){const n="modal-"+(new Date).getTime(),r=`\n        <div id="${n}" class="alertdialog modal fade ${"alert"===e?"alertdialog-danger":""}" role="dialog">\n          <div class="modal-dialog">\n            <div class="modal-content">\n              <div class="modal-header">\n                <h4 class="modal-title">Error</h4>\n              </div>\n              <div class="modal-body">\n                <p>${t}</p>\n              </div>\n              <div class="modal-footer">\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n              </div>\n            </div>\n          </div>\n        </div>\n    `;return $(document.body).append(r),$("#"+n)}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.show=function(){const e=r(...arguments);return e.modal("show"),e},n(13)},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),i=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),a=null,s=0,l=[],u=n(11);function c(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(m(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(m(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function p(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),f(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function m(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var l=s++;n=a||(a=p(t)),r=b.bind(null,n,l,!1),o=b.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=u(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return c(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}e&&c(d(e,t),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,n){"use strict";t.f=function(e){i=e},t.c=function(e){return i},t.g=function(e){u=e},t.b=function({uuid:e,text:t,disable:n=!1,autoFocus:d=!1,blurListener:f=null}){s=e,a&&(a(),a=null);l.attr("disabled","disabled").val(t||"").off("blur").off("keyup"),!1===n&&l.removeAttr("disabled").on("keyup",()=>{!function(e){const t=l.val(),n=o.c(i,t);o.f({color:n,uuid:e})}(e)});d&&l.focus();l.on("blur",()=>{f&&(f(),a=f),function(e){const t=l.val();if(!c(t))return void r.show({message:"Nor white space, tab, or line break are not permitted."});u(e,t)}(e)})},t.a=function(){s=null,l.attr("disabled","disabled").val("")},t.d=function(e){return s===e},t.e=c;var r=n(0),o=n(4);let i,a,s,l,u;function c(e){return!/\s/.test(e)}window.addEventListener("DOMContentLoaded",()=>{l=$("#inputLabel")})},function(e,t,n){"use strict";t.g=function(e){a=e},t.a=function(){return o[Math.floor(Math.random()*o.length)%o.length]},t.e=function(){return[o.slice(0,Math.floor(o.length/2)),o.slice(Math.floor(o.length/2),o.length)]},t.c=function(e,t){let n=i;return r.a()[e].labels.forEach(e=>{if("string"==typeof e)return;const[r,o]=e;t===r&&(n=o)}),n},t.f=function({text:e,color:t,uuid:n,annoType:r}){a(...arguments)},t.d=function(){const e=r.a();return Object.keys(e).forEach(t=>{e[t].labels.forEach(n=>{"string"==typeof n?e[t][n]=o[0]:e[t][n[0]]=n[1]}),delete e[t].labels}),e.default=i,e};var r=n(7);const o=["#FFEB3B","#FF5722","#795548","#F44336","#E91E63","#9C27B0","#3F51B5","#4CAF50"];t.b=o;const i="#AAA";let a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({applicationName:e}){r=e},t.applicationName=function(){return r};let r="pdfanno";t.validLabelTypes=["span","relation"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupResizableColumns=function(){$("#tools").resizable({handles:"e",alsoResizeReverse:"#viewerWrapper",start:()=>{$("#viewer iframe").css({"pointer-events":"none"})},stop:()=>{$("#viewer iframe").css({"pointer-events":"auto"})}}),$.ui.plugin.add("resizable","alsoResizeReverse",{start:function(){let e=$(this).resizable("instance"),t=e.options;$(t.alsoResizeReverse).each(function(){var e=$(this);e.data("ui-resizable-alsoresizeReverse",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,t){let n=$(this).resizable("instance"),r=n.options,o=n.originalSize,i=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-i.top||0,left:n.position.left-i.left||0};$(r.alsoResizeReverse).each(function(){let e=$(this),n=$(this).data("ui-resizable-alsoresize-reverse"),r={},o=e.parents(t.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(o,function(e,t){let o=(n[t]||0)-(a[t]||0);o&&o>=0&&(r[t]=o||null)}),e.css(r)})},stop:function(){$(this).removeData("resizable-alsoresize-reverse")}})},t.tomlString=function e(t,n=null){let r=[];Object.keys(t).forEach(o=>{let a=t[o];"span"===o||"relation"===o?r.push(e(a,o)):"labels"===o&&s(a)&&a.forEach(e=>{null!==n&&r.push(`[[${n}]]`),r.push(`label = "${i(e[0])}"`),r.push(`color = "${i(e[1])}"`),r.push("")})});return r.join("\n")},t.toml2object=function(e){const t=o.a.parse(e),n={};return["span","relation"].forEach(e=>{n[e]={},n[e].labels=[],s(t[e])&&t[e].forEach(t=>{n[e].labels.push([a(t.label),a(t.color)])})}),n},t.uuid=function(e=8){const t=e,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=n.length;let o="";for(let e=0;e<t;e++)o+=n[Math.floor(Math.random()*r)];return o},t.download=function(e,t){let n=new Blob([t]),r=window.URL.createObjectURL(n),o=document.createElement("a");document.body.appendChild(o),o.download=e,o.href=r,o.click(),o.parentNode.removeChild(o)},t.loadFileAsText=function(e){return new Promise((t,n)=>{let r=new FileReader;r.onload=(e=>{const n=e.target.result;t(n)}),r.onerror=(e=>{n(e)}),r.readAsText(e)})};var r=n(24),o=n.n(r);function i(e){return e.replace(/"/g,'\\"')}function a(e){return e.replace(/\\"/g,'"')}function s(e){return e&&"length"in e}},function(e,t,n){"use strict";t.a=function(){return JSON.parse(localStorage.getItem(o())||"{}")},t.b=function(e){localStorage.setItem(o(),JSON.stringify(e))};var r=n(5);function o(){return r.applicationName()+"-label-list"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(15),i=n(16),a=n(17),s=n(18),l=n(19),u=n(20),c=n(29),d=n(31),f=n(32),h=n(33),p=n(6),g=n(5);n.d(t,"browseButton",function(){return r}),n.d(t,"contentDropdown",function(){return o}),n.d(t,"primaryAnnoDropdown",function(){return i}),n.d(t,"referenceAnnoDropdown",function(){return a}),n.d(t,"annoListDropdown",function(){return s}),n.d(t,"downloadButton",function(){return l}),n.d(t,"labelInput",function(){return u}),n.d(t,"uploadButton",function(){return c}),n.d(t,"searchUI",function(){return d}),n.d(t,"ui",function(){return f}),n.d(t,"event",function(){return h}),n.d(t,"util",function(){return p}),n.d(t,"core",function(){return g}),n(9)},function(e,t,n){var r=n(10);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(2)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(void 0)).push([e.i,"@charset 'utf-8';\r\n\r\n/* Reset CSS */\r\nhtml{color:#000;background:#FFF}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td{margin:0;padding:0}table{border-collapse:collapse;border-spacing:0}fieldset,img{border:0}address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:normal}ol,ul{list-style:none}caption,th{text-align:left}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal}q:before,q:after{content:''}abbr,acronym{border:0;font-variant:normal}sup{vertical-align:text-top}sub{vertical-align:text-bottom}input,textarea,select{font-family:inherit;font-size:inherit;font-weight:inherit;*font-size:100%}legend{color:#000}\r\n\r\n/* Super Hack to disable autofill style for Chrome. */\r\ninput:-webkit-autofill,\r\ninput:-webkit-autofill:hover,\r\ninput:-webkit-autofill:focus,\r\ninput:-webkit-autofill:active {\r\n    transition: background-color 5000s ease-in-out 0s;\r\n}\r\n\r\n.u-mt-10 {margin-top: 10px;}\r\n.u-mt-20 {margin-top: 20px;}\r\n.u-mb-10 {margin-bottom: 10px;}\r\n.u-ml-15 {margin-left: 15px;}\r\n.u-disp-iblock {display: inline-block;}\r\n.no-visible {visibility: hidden;}\r\n.no-action {pointer-events: none;}\r\n\r\n/**\r\n * Viewer size.\r\n * This height will be override to fit the browser height (by pdfanno.js).\r\n */\r\n.anno-viewer {\r\n    width: 100%;\r\n    height: 500px;\r\n}\r\n\r\n/**\r\n * Annotation Select UI Layout.\r\n */\r\n.anno-select-layout {}\r\n.anno-select-layout .row:first-child {\r\n    margin-bottom: 10px;\r\n}\r\n.anno-select-layout [type=\"radio\"] {\r\n    margin-right: 5px;\r\n}\r\n.anno-select-layout [type=\"file\"] {\r\n    display: inline-block;\r\n    margin-left: 5px;\r\n    line-height: 1em;\r\n}\r\n.anno-select-layout .sp-replacer {\r\n    padding: 0;\r\n    border: none;\r\n}\r\n.anno-select-layout .sp-dd {\r\n    display: none;\r\n}\r\n\r\n/**\r\n * Dropdown.\r\n */\r\n.dropdown-menu {\r\n    overflow: scroll;\r\n}\r\n\r\n/**\r\n * Color picker.\r\n */\r\n.anno-ui .sp-replacer {\r\n    padding: 0;\r\n    border: none;\r\n}\r\n.anno-ui .sp-dd {\r\n    display: none;\r\n}\r\n.anno-ui .sp-preview {\r\n    margin-right: 0;\r\n}\r\n\r\n.js-label-tab-content {\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n    max-height: calc(100vh - 25em); /* Adjust for HD size(1366x768) */\r\n}\r\n\r\n.js-label-tab-content .label-list__text {\r\n    word-break: break-all;\r\n}\r\n\r\n.js-label-tab-content .label-list__input {\r\n    width: 100%;\r\n}\r\n\r\n.js-label-tab-content .sp-replacer {\r\n    overflow: inherit;\r\n}\r\n\r\n.js-export-label.disabled {\r\n    cursor: not-allowed;\r\n}\r\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({loadFiles:e,clearAllAnnotations:t,displayCurrentReferenceAnnotations:n,displayCurrentPrimaryAnnotations:c,getContentFiles:d,getAnnoFiles:f,closePDFViewer:h,callbackLoadedFiles:p}){o=n,i=c,a=d,s=f,l=h,$(".js-file :file").on("click",e=>{$('input[type="file"]').val(null)}),$(".js-file :file").on("change",n=>{const c=Array.from(n.target.files);let d=function(e){if(!e||0===e.length)return"No files specified.";if(!e[0].webkitRelativePath)return"Please select a directory, NOT a file.";return null}(c);d?r.show({message:d}):(c.sort((e,t)=>e.name.localeCompare(t.name)),e(c).then(()=>{const e=function(){let e,t=(e=$("#dropdownPdf .js-text").text())!==u()?e:null,n="Anno File"!==(e=$("#dropdownAnnoPrimary .js-text").text())?e:null,r=[],o=[];return $("#dropdownAnnoReference a").each((e,t)=>{let n=$(t);if(!1===n.find(".fa-check").hasClass("no-visible")){let e=n.find(".js-annoname").text();r.push(e);let t=n.find(".js-anno-palette").spectrum("get").toHexString();o.push(t)}}),{pdfName:t,primaryAnnotationName:n,referenceAnnotationNames:r,referenceAnnotationColors:o}}();t(),function(){$("#dropdownPdf .js-text").text(u()),$("#dropdownPdf li").remove();const e=a().map(e=>`\n            <li>\n                <a href="#">\n                    <i class="fa fa-check no-visible"></i>&nbsp\n                    <span class="js-content-name">${e.name}</span>\n                </a>\n            </li>\n        `);$("#dropdownPdf ul").append(e.join(""))}(),$("#dropdownAnnoPrimary ul").html(""),$("#dropdownAnnoReference ul").html(""),$("#dropdownAnnoPrimary .js-text").text("Anno File"),$("#dropdownAnnoReference .js-text").text("Reference Files"),s().forEach(e=>{let t=`\n            <li>\n                <a href="#">\n                    <i class="fa fa-check no-visible" aria-hidden="true"></i>\n                    <span class="js-annoname">${e.name}</span>\n                </a>\n            </li>\n        `;$("#dropdownAnnoPrimary ul").append(t),$("#dropdownAnnoReference ul").append(t)}),function(e){let t,n=!1;(t=a().filter(t=>t.name===e.pdfName)).length>0?($("#dropdownPdf .js-text").text(t[0].name),$("#dropdownPdf a").each((t,n)=>{let r=$(n);r.find(".js-content-name").text()===e.pdfName&&r.find(".fa-check").removeClass("no-visible")})):(n=!0,l());(t=s().filter(t=>t.name===e.primaryAnnotationName)).length>0&&!1===n&&($("#dropdownAnnoPrimary .js-text").text(e.primaryAnnotationName),$("#dropdownAnnoPrimary a").each((t,n)=>{let r=$(n);r.find(".js-annoname").text()===e.primaryAnnotationName&&r.find(".fa-check").removeClass("no-visible")}),setTimeout(()=>{i()},100));let r=e.referenceAnnotationNames,u=e.referenceAnnotationColors;(r=r.filter((e,t)=>{let n=!1;return s().filter(t=>t.name===e).length>0&&$("#dropdownAnnoReference a").each((r,o)=>{let i=$(o);i.find(".js-annoname").text()===e&&(i.find(".fa-check").removeClass("no-visible"),i.find(".js-anno-palette").spectrum("set",u[t]),n=!0)}),n})).length>0&&!1===n&&($("#dropdownAnnoReference .js-text").text(r.join(",")),setTimeout(()=>{o()},500))}(e),p&&p(e)}))})};var r=n(0);let o,i,a,s,l;function u(){let e=$("#dropdownPdf .js-text").data("initial-text");return void 0===e||""===e?"PDF File":e}},function(e,t,n){var r=n(14);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(2)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(void 0)).push([e.i,"/**\r\n * UI - Alert Dialog.\r\n */\r\n\r\n.alertdialog-danger .modal-header {\r\n    color: #a94442;\r\n    background-color: #f2dede;\r\n    border-color: #ebccd1;\r\n}\r\n.alertdialog {\r\n    margin-top: 200px;\r\n}\r\n.alertdialog .modal-dialog {\r\n    width: 50%;\r\n}\r\n.alertdialog .modal-footer {\r\n    border-top: 0px solid rgba(0,0,0,0);\r\n}\r\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({initialText:e,overrideWarningMessage:t,contentReloadHandler:n}){$("#dropdownPdf .js-text").text(e),$("#dropdownPdf .js-text").data("initial-text",e),$("#dropdownPdf").on("click","a",r=>{const o=$(r.currentTarget),i=o.find(".js-content-name").text(),a=$("#dropdownPdf .js-text").text();if(a!==i){if(a===e||window.confirm(t))return $("#dropdownPdf .js-text").text(i),$("#dropdownPdf .fa-check").addClass("no-visible"),o.find(".fa-check").removeClass("no-visible"),$("#dropdownAnnoPrimary .js-text").text("Anno File"),$("#dropdownAnnoPrimary .fa-check").addClass("no-visible"),$("#dropdownAnnoReference .js-text").text("Reference Files"),$("#dropdownAnnoReference .fa-check").addClass("no-visible"),$("#dropdownPdf").click(),n(i),!1}else console.log("Not reload. the contents are same.")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({clearPrimaryAnnotations:e,displayPrimaryAnnotation:t}){$("#dropdownAnnoPrimary").on("click","a",n=>{let r=$(n.currentTarget),o=r.find(".js-annoname").text(),i=$("#dropdownAnnoPrimary .js-text").text();if(i===o){let t=window.confirm("Are you sure to clear the current annotations?");if(!t)return;return $("#dropdownAnnoPrimary .fa-check").addClass("no-visible"),$("#dropdownAnnoPrimary .js-text").text("Anno File"),e(),$("#dropdownAnnoPrimary").click(),!1}if("Anno File"===i||window.confirm("Are you sure to load another Primary Annotation ?"))return $("#dropdownAnnoPrimary .js-text").text(o),$("#dropdownAnnoPrimary .fa-check").addClass("no-visible"),r.find(".fa-check").removeClass("no-visible"),$("#dropdownAnnoPrimary").click(),t(o),!1})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({displayReferenceAnnotations:e}){$("#dropdownAnnoReference").on("click","a",t=>{let n=$(t.currentTarget);n.find(".fa-check").toggleClass("no-visible");let r=[];return $("#dropdownAnnoReference a").each((e,t)=>{let n=$(t);!1===n.find(".fa-check").hasClass("no-visible")&&r.push(n.find(".js-annoname").text())}),r.length>0?$("#dropdownAnnoReference .js-text").text(r.join(",")):$("#dropdownAnnoReference .js-text").text("Reference Files"),e(r),!1})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({getAnnotations:e,scrollToAnnotation:t}){function n(t){$("#dropdownAnnoList .js-count").text(e().length)}$("#dropdownAnnoList").on("click",()=>{let t=e().map(e=>{let t;"span"===e.type?t='<i class="fa fa-pencil"></i>':"relation"===e.type&&"relation"===e.direction?t='<i class="fa fa-long-arrow-right"></i>':"area"===e.type&&(t='<i class="fa fa-square-o"></i>');let n=`\n                <li>\n                    <a href="#" data-id="${e.uuid}">\n                        ${t}&nbsp&nbsp;<span>${e.text||""}</span>\n                    </a>\n                </li>\n            `;return n});$("#dropdownAnnoList ul").html(t)}),$("#dropdownAnnoList").on("click","a",e=>{let n=$(e.currentTarget).data("id");t(n),$("#dropdownAnnoList").click()}),$(window).off("annotationrendered annotationUpdated annotationDeleted",n).on("annotationrendered annotationUpdated annotationDeleted",n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({getAnnotationTOMLString:e,getDownloadFileName:t,didDownloadCallback:n=function(){}}){$("#downloadButton").off("click").on("click",r=>($(r.currentTarget).blur(),e().then(e=>{let n=new Blob([e]),r=window.URL.createObjectURL(n),o=document.createElement("a");document.body.appendChild(o),o.download=function(e){let t;if($("#dropdownAnnoPrimary a").each((e,n)=>{let r=$(n);!1===r.find(".fa-check").hasClass("no-visible")&&(t=r.find(".js-annoname").text())}),t)return t;return e()}(t),o.href=r,o.click(),o.parentNode.removeChild(o)}),n(),!1))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({getSelectedAnnotations:e,saveAnnotationText:t,createSpanAnnotation:n,createRelAnnotation:s,colorChangeListener:l=function(){},namingRuleForExport:u=o.a}){r.g(t),o.b(n,s,u),i.a(e),a.g(l)};var r=n(3),o=n(23),i=n(28),a=n(4);n(21);const s=a.d;t.getColorMap=s},function(e,t,n){var r=n(22);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};n(2)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(void 0)).push([e.i,"\r\n.inputLabel {\r\n    font-size: 20px;\r\n}\r\n\r\n/**\r\n * Label list.\r\n */\r\n.label-list {}\r\n.label-list .label-list__item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 10px;\r\n    border-bottom: 1px solid #eee;\r\n}\r\n.label-list .label-list__item:last-child {\r\n    padding-top: 5px;\r\n    padding-bottom: 5px;\r\n    border-bottom: 0 solid rgba(0,0,0,0);\r\n}\r\n.label-list__btn {\r\n    width: 40px;\r\n    height: 40px;\r\n    line-height: 50px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    border-radius: 3px;\r\n    background-color: white;\r\n    margin-right: 13px;\r\n    flex: 0 0 30px;\r\n}\r\n.label-list__btn:hover,\r\n.label-list__text:hover {\r\n    box-shadow: 0 1px 3px rgba(0,0,0,.3);\r\n}\r\n.label-list__text {\r\n    flex-grow: 1;\r\n    cursor: pointer;\r\n    padding: 2px;\r\n    font-size: 20px;\r\n    min-height: 1em;\r\n    margin-left: 13px;\r\n}\r\n.label-list__input {\r\n    flex-grow: 1;\r\n    padding: 2px 5px;\r\n}\r\n\r\n/** Override color picker style. */\r\n.label-list .sp-replacer {\r\n    border: none;\r\n    background-color: rgba(0, 0, 0, 0);\r\n    padding: 0;\r\n}\r\n.label-list .sp-dd {\r\n    display: none;\r\n}\r\n.label-list .sp-preview {\r\n    margin-right: 0;\r\n}\r\n",""])},function(e,t,n){"use strict";t.b=function(e,t,n){a.f("span"),$(".js-label-tab-content").on("click",".js-add-label-button",e=>{let t=$(e.currentTarget),n=t.parent().find("input").val(),o=t.parents("[data-type]").data("type");if(!a.e(n))return void r.show({message:"Nor white space, tab, or line break are not permitted."});let l=s.a(),u=i.a(),c=u[o]||{labels:[]};c.labels.push([n,l]),u[o]=c,i.b(u),$(`.js-label-tab[data-type="${a.c()}"]`).click(),s.f({text:n,color:l,annoType:a.c()})}),$(".js-label-tab-content").on("click",".js-label-trash",e=>{const t=$(e.currentTarget),n=t.data("index"),r=t.parents("[data-type]").data("type"),o=t.siblings(".js-label").text().trim();let a=i.a(),l=a[r]||{labels:[]};l.labels=l.labels.slice(0,n).concat(l.labels.slice(n+1,l.labels.length)),a[r]=l,i.b(a),$(`.js-label-tab[data-type="${r}"]`).click();const u=s.c(r,o);s.f({text:o,color:u,annoType:r})}),function(e,t){$(".js-label-tab-content").on("click",".js-label",n=>{let r=$(n.currentTarget),o=r.text().trim(),i=r.parents("[data-type]").data("type"),a=r.parent().find(".js-label-palette").spectrum("get").toHexString();console.log("add:",a),"span"===i?e({text:o,color:a}):"relation"===i&&t({type:i,text:o,color:a})})}(e,t),$(".js-label-tab").on("click",e=>{const t=$(e.currentTarget).data("type");let n=i.a();const r=n[t]||{};let o;if(void 0===r.labels){const e="span"===t?"span1":"relation1";o=[[e,s.b[0]]]}else o=r.labels;r.labels=o,n[t]=r,i.b(n),a.f(t);let l=$(`<ul class="tab-pane active label-list" data-type="${t}"/>`);o.forEach((e,t)=>{let n,r;"string"==typeof e?(n=e,r=s.b[0]):(n=e[0],r=e[1]),l.append(`\n                <li class="label-list__item">\n                    <div class="label-list__btn js-label-trash" data-index="${t}">\n                        <i class="fa fa-trash-o fa-2x"></i>\n                    </div>\n                    <input type="text" name="color" class="js-label-palette" autocomplete="off" data-color="${r}" data-index="${t}">\n                    <div class="label-list__text js-label">\n                        ${n}\n                    </div>\n                </li>\n            `)}),l.append('\n            <li class="label-list__item">\n                <div class="label-list__btn js-add-label-button">\n                    <i class="fa fa-plus fa-2x"></i>\n                </div>\n                <input type="text" class="label-list__input">\n            </li>\n        '),$(".js-label-tab-content").html(l),$(".js-label-palette").spectrum({showPaletteOnly:!0,showPalette:!0,hideAfterPaletteSelect:!0,palette:s.e()}),$(".js-label-palette").each((e,t)=>{const n=$(t);n.spectrum("set",n.data("color"))}),$(".js-label-palette").off("change").on("change",e=>{const t=$(e.currentTarget),n=t.spectrum("get").toHexString(),r=t.data("index");console.log("click color picker:",e,n,r);let o=i.a(),l=o[a.c()].labels[r];"string"==typeof l?l=[l,n]:l[1]=n,o[a.c()].labels[r]=l,i.b(o);const u=t.siblings(".js-label").text().trim();s.f({text:u,color:n,annoType:a.c()})})}),$('.js-label-tab[data-type="span"]').click(),function(e){$(".js-export-label").on("click",t=>{if(t.preventDefault(),t.target.classList.contains("disabled"))return!1;t.target.classList.add("disabled"),e(e=>{if(void 0===e)return t.target.classList.remove("disabled"),!1;let n=i.a();Object.keys(n).forEach(e=>{n[e].labels.forEach((t,r)=>{"string"==typeof t&&(n[e].labels[r]=[t,s.b[0]])})});const r=o.tomlString(n);o.download(e,r),t.target.classList.remove("disabled")})}),$(".js-import-label").on("click",()=>{$(".js-import-file").val(null).click()}),$(".js-import-file").on("change",async e=>{if(0!==e.target.files.length&&window.confirm("Are you sure to load labels?"))try{const t=e.target.files[0],n=await l.a(t);i.b(n),$(`.js-label-tab[data-type="${a.c()}"]`).click()}catch(e){return console.log("ERROR:",e),void r.show({message:"ERROR: cannot load the label file."})}})}(n)},t.a=function(e){e("pdfanno.conf")};var r=n(0),o=n(6),i=n(7),a=n(3),s=n(4),l=n(27)},function(e,t,n){var r=n(25),o=n(26);e.exports={parse:function(e){var t=r.parse(e.toString());return o.compile(t)}}},function(e,t){e.exports=function(){function e(e,t,n,r,o,i){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=o,this.column=i,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},o={},i={start:Ft},a=Ft,s=function(){return hn},l=o,u="#",c={type:"literal",value:"#",description:'"#"'},d=void 0,f={type:"any",description:"any character"},h="[",p={type:"literal",value:"[",description:'"["'},g="]",m={type:"literal",value:"]",description:'"]"'},v=function(e){pn(gn("ObjectPath",e,$t,Et))},b=function(e){pn(gn("ArrayPath",e,$t,Et))},w=function(e,t){return e.concat(t)},_=function(e){return[e]},y=function(e){return e},x=".",k={type:"literal",value:".",description:'"."'},A="=",P={type:"literal",value:"=",description:'"="'},C=function(e,t){pn(gn("Assign",t,$t,Et,e))},j=function(e){return e.join("")},z=function(e){return e.value},$='"""',E={type:"literal",value:'"""',description:'"\\"\\"\\""'},S=null,R=function(e){return gn("String",e.join(""),$t,Et)},I='"',F={type:"literal",value:'"',description:'"\\""'},T="'''",O={type:"literal",value:"'''",description:"\"'''\""},U="'",B={type:"literal",value:"'",description:'"\'"'},D=function(e){return e},L=function(e){return e},N="\\",Q={type:"literal",value:"\\",description:'"\\\\"'},M=function(){return""},Z="e",H={type:"literal",value:"e",description:'"e"'},q="E",V={type:"literal",value:"E",description:'"E"'},W=function(e,t){return gn("Float",parseFloat(e+"e"+t),$t,Et)},K=function(e){return gn("Float",parseFloat(e),$t,Et)},G="+",J={type:"literal",value:"+",description:'"+"'},X=function(e){return e.join("")},Y="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},ne=function(e){return gn("Integer",parseInt(e,10),$t,Et)},re="true",oe={type:"literal",value:"true",description:'"true"'},ie=function(){return gn("Boolean",!0,$t,Et)},ae="false",se={type:"literal",value:"false",description:'"false"'},le=function(){return gn("Boolean",!1,$t,Et)},ue=function(){return gn("Array",[],$t,Et)},ce=function(e){return gn("Array",e?[e]:[],$t,Et)},de=function(e){return gn("Array",e,$t,Et)},fe=function(e,t){return gn("Array",e.concat(t),$t,Et)},he=function(e){return e},pe=",",ge={type:"literal",value:",",description:'","'},me="{",ve={type:"literal",value:"{",description:'"{"'},be="}",we={type:"literal",value:"}",description:'"}"'},_e=function(e){return gn("InlineTable",e,$t,Et)},ye=function(e,t){return gn("InlineTableValue",t,$t,Et,e)},xe=function(e){return"."+e},ke=function(e){return e.join("")},Ae=":",Pe={type:"literal",value:":",description:'":"'},Ce=function(e){return e.join("")},je="T",ze={type:"literal",value:"T",description:'"T"'},$e="Z",Ee={type:"literal",value:"Z",description:'"Z"'},Se=function(e,t){return gn("Date",new Date(e+"T"+t+"Z"),$t,Et)},Re=function(e,t){return gn("Date",new Date(e+"T"+t),$t,Et)},Ie=/^[ \t]/,Fe={type:"class",value:"[ \\t]",description:"[ \\t]"},Te="\n",Oe={type:"literal",value:"\n",description:'"\\n"'},Ue="\r",Be={type:"literal",value:"\r",description:'"\\r"'},De=/^[0-9a-f]/i,Le={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Ne=/^[0-9]/,Qe={type:"class",value:"[0-9]",description:"[0-9]"},Me="_",Ze={type:"literal",value:"_",description:'"_"'},He=function(){return""},qe=/^[A-Za-z0-9_\-]/,Ve={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},We=function(e){return e.join("")},Ke='\\"',Ge={type:"literal",value:'\\"',description:'"\\\\\\""'},Je=function(){return'"'},Xe="\\\\",Ye={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",nt={type:"literal",value:"\\b",description:'"\\\\b"'},rt=function(){return"\b"},ot="\\t",it={type:"literal",value:"\\t",description:'"\\\\t"'},at=function(){return"\t"},st="\\n",lt={type:"literal",value:"\\n",description:'"\\\\n"'},ut=function(){return"\n"},ct="\\f",dt={type:"literal",value:"\\f",description:'"\\\\f"'},ft=function(){return"\f"},ht="\\r",pt={type:"literal",value:"\\r",description:'"\\\\r"'},gt=function(){return"\r"},mt="\\U",vt={type:"literal",value:"\\U",description:'"\\\\U"'},bt=function(e){return function(e,t,n){var r=parseInt("0x"+e);if(!(!isFinite(r)||Math.floor(r)!=r||r<0||r>1114111||r>55295&&r<57344))return function(){var e,t,n=[],r=-1,o=arguments.length;if(!o)return"";for(var i="";++r<o;){var a=Number(arguments[r]);a<=65535?n.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,n.push(e,t)),(r+1==o||n.length>16384)&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i}(r);!function(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}("Invalid Unicode escape code: "+e,t,n)}(e.join(""))},wt="\\u",_t={type:"literal",value:"\\u",description:'"\\\\u"'},yt=0,xt=0,kt=0,At={line:1,column:1,seenCR:!1},Pt=0,Ct=[],jt=0,zt={};if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');a=i[r.startRule]}function $t(){return St(xt).line}function Et(){return St(xt).column}function St(e){return kt!==e&&(kt>e&&(kt=0,At={line:1,column:1,seenCR:!1}),function(e,n,r){var o,i;for(o=n;o<r;o++)"\n"===(i=t.charAt(o))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(At,kt,e),kt=e),At}function Rt(e){yt<Pt||(yt>Pt&&(Pt=yt,Ct=[]),Ct.push(e))}function It(n,r,o){var i=St(o),a=o<t.length?t.charAt(o):null;return null!==r&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==n?n:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(r,a),r,a,o,i.line,i.column)}function Ft(){var e,t,n,r=49*yt+0,i=zt[r];if(i)return yt=i.nextPos,i.result;for(e=yt,t=[],n=Tt();n!==o;)t.push(n),n=Tt();return t!==o&&(xt=e,t=s()),e=t,zt[r]={nextPos:yt,result:e},e}function Tt(){var e,n,r,i,a,s,u,c=49*yt+1,d=zt[c];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=function(){var e,n=49*yt+2,r=zt[n];return r?(yt=r.nextPos,r.result):((e=Ot())===o&&(e=function(){var e,n,r,i,a,s,u=49*yt+4,c=zt[u];if(c)return yt=c.nextPos,c.result;if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();if(r!==o)if((i=Ut())!==o){for(a=[],s=rn();s!==o;)a.push(s),s=rn();a!==o?(93===t.charCodeAt(yt)?(s=g,yt++):(s=o,0===jt&&Rt(m)),s!==o?(xt=e,n=v(i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;return zt[u]={nextPos:yt,result:e},e}())===o&&(e=function(){var e,n,r,i,a,s,u,c,d=49*yt+5,f=zt[d];if(f)return yt=f.nextPos,f.result;if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o)if(91===t.charCodeAt(yt)?(r=h,yt++):(r=o,0===jt&&Rt(p)),r!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if((a=Ut())!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();s!==o?(93===t.charCodeAt(yt)?(u=g,yt++):(u=o,0===jt&&Rt(m)),u!==o?(93===t.charCodeAt(yt)?(c=g,yt++):(c=o,0===jt&&Rt(m)),c!==o?(xt=e,n=b(a),e=n):(yt=e,e=l)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;return zt[d]={nextPos:yt,result:e},e}())===o&&(e=function(){var e,n,r,i,a,s,u=49*yt+9,c=zt[u];if(c)return yt=c.nextPos,c.result;if(e=yt,(n=Lt())!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();if(r!==o)if(61===t.charCodeAt(yt)?(i=A,yt++):(i=o,0===jt&&Rt(P)),i!==o){for(a=[],s=rn();s!==o;)a.push(s),s=rn();a!==o&&(s=Qt())!==o?(xt=e,n=C(n,s),e=n):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;if(e===o)if(e=yt,(n=Nt())!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();if(r!==o)if(61===t.charCodeAt(yt)?(i=A,yt++):(i=o,0===jt&&Rt(P)),i!==o){for(a=[],s=rn();s!==o;)a.push(s),s=rn();a!==o&&(s=Qt())!==o?(xt=e,n=C(n,s),e=n):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;return zt[u]={nextPos:yt,result:e},e}()),zt[n]={nextPos:yt,result:e},e)}())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o){for(a=[],s=Ot();s!==o;)a.push(s),s=Ot();if(a!==o){if(s=[],(u=on())!==o)for(;u!==o;)s.push(u),u=on();else s=l;s===o&&(s=sn()),s!==o?e=n=[n,r,i,a,s]:(yt=e,e=l)}else yt=e,e=l}else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;if(e===o){if(e=yt,n=[],(r=rn())!==o)for(;r!==o;)n.push(r),r=rn();else n=l;if(n!==o){if(r=[],(i=on())!==o)for(;i!==o;)r.push(i),i=on();else r=l;r===o&&(r=sn()),r!==o?e=n=[n,r]:(yt=e,e=l)}else yt=e,e=l;e===o&&(e=on())}return zt[c]={nextPos:yt,result:e},e}function Ot(){var e,n,r,i,a,s,h=49*yt+3,p=zt[h];if(p)return yt=p.nextPos,p.result;if(e=yt,35===t.charCodeAt(yt)?(n=u,yt++):(n=o,0===jt&&Rt(c)),n!==o){for(r=[],i=yt,a=yt,jt++,(s=on())===o&&(s=sn()),jt--,s===o?a=d:(yt=a,a=l),a!==o?(t.length>yt?(s=t.charAt(yt),yt++):(s=o,0===jt&&Rt(f)),s!==o?i=a=[a,s]:(yt=i,i=l)):(yt=i,i=l);i!==o;)r.push(i),i=yt,a=yt,jt++,(s=on())===o&&(s=sn()),jt--,s===o?a=d:(yt=a,a=l),a!==o?(t.length>yt?(s=t.charAt(yt),yt++):(s=o,0===jt&&Rt(f)),s!==o?i=a=[a,s]:(yt=i,i=l)):(yt=i,i=l);r!==o?e=n=[n,r]:(yt=e,e=l)}else yt=e,e=l;return zt[h]={nextPos:yt,result:e},e}function Ut(){var e,t,n,r=49*yt+6,i=zt[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=Dt())!==o)for(;n!==o;)t.push(n),n=Dt();else t=l;return t!==o&&(n=Bt())!==o?(xt=e,e=t=w(t,n)):(yt=e,e=l),e===o&&(e=yt,(t=Bt())!==o&&(xt=e,t=_(t)),e=t),zt[r]={nextPos:yt,result:e},e}function Bt(){var e,t,n,r,i,a=49*yt+7,s=zt[a];if(s)return yt=s.nextPos,s.result;for(e=yt,t=[],n=rn();n!==o;)t.push(n),n=rn();if(t!==o)if((n=Lt())!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();r!==o?(xt=e,e=t=y(n)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;if(e===o){for(e=yt,t=[],n=rn();n!==o;)t.push(n),n=rn();if(t!==o)if((n=Nt())!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();r!==o?(xt=e,e=t=y(n)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}return zt[a]={nextPos:yt,result:e},e}function Dt(){var e,n,r,i,a,s,u,c=49*yt+8,d=zt[c];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=Lt())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if(46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),a!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();s!==o?(xt=e,e=n=y(r)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;if(e===o){for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=Nt())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if(46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),a!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();s!==o?(xt=e,e=n=y(r)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l}return zt[c]={nextPos:yt,result:e},e}function Lt(){var e,t,n,r=49*yt+10,i=zt[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=cn())!==o)for(;n!==o;)t.push(n),n=cn();else t=l;return t!==o&&(xt=e,t=j(t)),e=t,zt[r]={nextPos:yt,result:e},e}function Nt(){var e,t,n=49*yt+11,r=zt[n];return r?(yt=r.nextPos,r.result):(e=yt,(t=Mt())!==o&&(xt=e,t=z(t)),(e=t)===o&&(e=yt,(t=Zt())!==o&&(xt=e,t=z(t)),e=t),zt[n]={nextPos:yt,result:e},e)}function Qt(){var e,n=49*yt+12,r=zt[n];return r?(yt=r.nextPos,r.result):((e=function(){var e,n=49*yt+13,r=zt[n];return r?(yt=r.nextPos,r.result):((e=function(){var e,n,r,i,a,s=49*yt+14,u=zt[s];if(u)return yt=u.nextPos,u.result;if(e=yt,t.substr(yt,3)===$?(n=$,yt+=3):(n=o,0===jt&&Rt(E)),n!==o)if((r=on())===o&&(r=S),r!==o){for(i=[],a=Vt();a!==o;)i.push(a),a=Vt();i!==o?(t.substr(yt,3)===$?(a=$,yt+=3):(a=o,0===jt&&Rt(E)),a!==o?(xt=e,n=R(i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;return zt[s]={nextPos:yt,result:e},e}())===o&&(e=Mt())===o&&(e=function(){var e,n,r,i,a,s=49*yt+16,u=zt[s];if(u)return yt=u.nextPos,u.result;if(e=yt,t.substr(yt,3)===T?(n=T,yt+=3):(n=o,0===jt&&Rt(O)),n!==o)if((r=on())===o&&(r=S),r!==o){for(i=[],a=Wt();a!==o;)i.push(a),a=Wt();i!==o?(t.substr(yt,3)===T?(a=T,yt+=3):(a=o,0===jt&&Rt(O)),a!==o?(xt=e,n=R(i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;return zt[s]={nextPos:yt,result:e},e}())===o&&(e=Zt()),zt[n]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,n,r,i,a,s=49*yt+38,u=zt[s];return u?(yt=u.nextPos,u.result):(e=yt,(n=nn())!==o?(84===t.charCodeAt(yt)?(r=je,yt++):(r=o,0===jt&&Rt(ze)),r!==o&&(i=function(){var e,n,r,i,a,s,u,c,d,f,h,p=49*yt+36,g=zt[p];return g?(yt=g.nextPos,g.result):(e=yt,n=yt,(r=un())!==o&&(i=un())!==o?(58===t.charCodeAt(yt)?(a=Ae,yt++):(a=o,0===jt&&Rt(Pe)),a!==o&&(s=un())!==o&&(u=un())!==o?(58===t.charCodeAt(yt)?(c=Ae,yt++):(c=o,0===jt&&Rt(Pe)),c!==o&&(d=un())!==o&&(f=un())!==o?((h=tn())===o&&(h=S),h!==o?n=r=[r,i,a,s,u,c,d,f,h]:(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l),n!==o&&(xt=e,n=Ce(n)),e=n,zt[p]={nextPos:yt,result:e},e)}())!==o?(90===t.charCodeAt(yt)?(a=$e,yt++):(a=o,0===jt&&Rt(Ee)),a!==o?(xt=e,n=Se(n,i),e=n):(yt=e,e=l)):(yt=e,e=l)):(yt=e,e=l),e===o&&(e=yt,(n=nn())!==o?(84===t.charCodeAt(yt)?(r=je,yt++):(r=o,0===jt&&Rt(ze)),r!==o&&(i=function(){var e,n,r,i,a,s,u,c,d,f,h,p,g,m,v,b,w,_=49*yt+37,y=zt[_];return y?(yt=y.nextPos,y.result):(e=yt,n=yt,(r=un())!==o&&(i=un())!==o?(58===t.charCodeAt(yt)?(a=Ae,yt++):(a=o,0===jt&&Rt(Pe)),a!==o&&(s=un())!==o&&(u=un())!==o?(58===t.charCodeAt(yt)?(c=Ae,yt++):(c=o,0===jt&&Rt(Pe)),c!==o&&(d=un())!==o&&(f=un())!==o?((h=tn())===o&&(h=S),h!==o?(45===t.charCodeAt(yt)?(p=Y,yt++):(p=o,0===jt&&Rt(ee)),p===o&&(43===t.charCodeAt(yt)?(p=G,yt++):(p=o,0===jt&&Rt(J))),p!==o&&(g=un())!==o&&(m=un())!==o?(58===t.charCodeAt(yt)?(v=Ae,yt++):(v=o,0===jt&&Rt(Pe)),v!==o&&(b=un())!==o&&(w=un())!==o?n=r=[r,i,a,s,u,c,d,f,h,p,g,m,v,b,w]:(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l),n!==o&&(xt=e,n=Ce(n)),e=n,zt[_]={nextPos:yt,result:e},e)}())!==o?(xt=e,n=Re(n,i),e=n):(yt=e,e=l)):(yt=e,e=l)),zt[s]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,n,r,i,a=49*yt+23,s=zt[a];return s?(yt=s.nextPos,s.result):(e=yt,(n=Kt())===o&&(n=Gt()),n!==o?(101===t.charCodeAt(yt)?(r=Z,yt++):(r=o,0===jt&&Rt(H)),r===o&&(69===t.charCodeAt(yt)?(r=q,yt++):(r=o,0===jt&&Rt(V))),r!==o&&(i=Gt())!==o?(xt=e,n=W(n,i),e=n):(yt=e,e=l)):(yt=e,e=l),e===o&&(e=yt,(n=Kt())!==o&&(xt=e,n=K(n)),e=n),zt[a]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,t,n=49*yt+25,r=zt[n];return r?(yt=r.nextPos,r.result):(e=yt,(t=Gt())!==o&&(xt=e,t=ne(t)),e=t,zt[n]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,n,r=49*yt+27,i=zt[r];return i?(yt=i.nextPos,i.result):(e=yt,t.substr(yt,4)===re?(n=re,yt+=4):(n=o,0===jt&&Rt(oe)),n!==o&&(xt=e,n=ie()),(e=n)===o&&(e=yt,t.substr(yt,5)===ae?(n=ae,yt+=5):(n=o,0===jt&&Rt(se)),n!==o&&(xt=e,n=le()),e=n),zt[r]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,n,r,i,a,s=49*yt+28,u=zt[s];if(u)return yt=u.nextPos,u.result;if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o){for(r=[],i=Yt();i!==o;)r.push(i),i=Yt();r!==o?(93===t.charCodeAt(yt)?(i=g,yt++):(i=o,0===jt&&Rt(m)),i!==o?(xt=e,n=ue(),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;if(e===o&&(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o?((r=Jt())===o&&(r=S),r!==o?(93===t.charCodeAt(yt)?(i=g,yt++):(i=o,0===jt&&Rt(m)),i!==o?(xt=e,n=ce(r),e=n):(yt=e,e=l)):(yt=e,e=l)):(yt=e,e=l),e===o)){if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o){if(r=[],(i=Xt())!==o)for(;i!==o;)r.push(i),i=Xt();else r=l;r!==o?(93===t.charCodeAt(yt)?(i=g,yt++):(i=o,0===jt&&Rt(m)),i!==o?(xt=e,n=de(r),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;if(e===o)if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o){if(r=[],(i=Xt())!==o)for(;i!==o;)r.push(i),i=Xt();else r=l;r!==o&&(i=Jt())!==o?(93===t.charCodeAt(yt)?(a=g,yt++):(a=o,0===jt&&Rt(m)),a!==o?(xt=e,n=fe(r,i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l}return zt[s]={nextPos:yt,result:e},e}())===o&&(e=function(){var e,n,r,i,a,s,u=49*yt+32,c=zt[u];if(c)return yt=c.nextPos,c.result;if(e=yt,123===t.charCodeAt(yt)?(n=me,yt++):(n=o,0===jt&&Rt(ve)),n!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();if(r!==o){for(i=[],a=en();a!==o;)i.push(a),a=en();if(i!==o){for(a=[],s=rn();s!==o;)a.push(s),s=rn();a!==o?(125===t.charCodeAt(yt)?(s=be,yt++):(s=o,0===jt&&Rt(we)),s!==o?(xt=e,n=_e(i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l}else yt=e,e=l}else yt=e,e=l;return zt[u]={nextPos:yt,result:e},e}()),zt[n]={nextPos:yt,result:e},e)}function Mt(){var e,n,r,i,a=49*yt+15,s=zt[a];if(s)return yt=s.nextPos,s.result;if(e=yt,34===t.charCodeAt(yt)?(n=I,yt++):(n=o,0===jt&&Rt(F)),n!==o){for(r=[],i=Ht();i!==o;)r.push(i),i=Ht();r!==o?(34===t.charCodeAt(yt)?(i=I,yt++):(i=o,0===jt&&Rt(F)),i!==o?(xt=e,e=n=R(r)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;return zt[a]={nextPos:yt,result:e},e}function Zt(){var e,n,r,i,a=49*yt+17,s=zt[a];if(s)return yt=s.nextPos,s.result;if(e=yt,39===t.charCodeAt(yt)?(n=U,yt++):(n=o,0===jt&&Rt(B)),n!==o){for(r=[],i=qt();i!==o;)r.push(i),i=qt();r!==o?(39===t.charCodeAt(yt)?(i=U,yt++):(i=o,0===jt&&Rt(B)),i!==o?(xt=e,e=n=R(r)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;return zt[a]={nextPos:yt,result:e},e}function Ht(){var e,n,r,i=49*yt+18,a=zt[i];return a?(yt=a.nextPos,a.result):((e=fn())===o&&(e=yt,n=yt,jt++,34===t.charCodeAt(yt)?(r=I,yt++):(r=o,0===jt&&Rt(F)),jt--,r===o?n=d:(yt=n,n=l),n!==o?(t.length>yt?(r=t.charAt(yt),yt++):(r=o,0===jt&&Rt(f)),r!==o?(xt=e,e=n=D(r)):(yt=e,e=l)):(yt=e,e=l)),zt[i]={nextPos:yt,result:e},e)}function qt(){var e,n,r,i=49*yt+19,a=zt[i];return a?(yt=a.nextPos,a.result):(e=yt,n=yt,jt++,39===t.charCodeAt(yt)?(r=U,yt++):(r=o,0===jt&&Rt(B)),jt--,r===o?n=d:(yt=n,n=l),n!==o?(t.length>yt?(r=t.charAt(yt),yt++):(r=o,0===jt&&Rt(f)),r!==o?(xt=e,e=n=D(r)):(yt=e,e=l)):(yt=e,e=l),zt[i]={nextPos:yt,result:e},e)}function Vt(){var e,n,r,i=49*yt+20,a=zt[i];return a?(yt=a.nextPos,a.result):((e=fn())===o&&(e=function(){var e,n,r,i,a=49*yt+21,s=zt[a];if(s)return yt=s.nextPos,s.result;if(e=yt,92===t.charCodeAt(yt)?(n=N,yt++):(n=o,0===jt&&Rt(Q)),n!==o)if(on()!==o){for(r=[],i=an();i!==o;)r.push(i),i=an();r!==o?(xt=e,n=M(),e=n):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;return zt[a]={nextPos:yt,result:e},e}())===o&&(e=yt,n=yt,jt++,t.substr(yt,3)===$?(r=$,yt+=3):(r=o,0===jt&&Rt(E)),jt--,r===o?n=d:(yt=n,n=l),n!==o?(t.length>yt?(r=t.charAt(yt),yt++):(r=o,0===jt&&Rt(f)),r!==o?(xt=e,e=n=L(r)):(yt=e,e=l)):(yt=e,e=l)),zt[i]={nextPos:yt,result:e},e)}function Wt(){var e,n,r,i=49*yt+22,a=zt[i];return a?(yt=a.nextPos,a.result):(e=yt,n=yt,jt++,t.substr(yt,3)===T?(r=T,yt+=3):(r=o,0===jt&&Rt(O)),jt--,r===o?n=d:(yt=n,n=l),n!==o?(t.length>yt?(r=t.charAt(yt),yt++):(r=o,0===jt&&Rt(f)),r!==o?(xt=e,e=n=D(r)):(yt=e,e=l)):(yt=e,e=l),zt[i]={nextPos:yt,result:e},e)}function Kt(){var e,n,r,i,a,s,u=49*yt+24,c=zt[u];return c?(yt=c.nextPos,c.result):(e=yt,43===t.charCodeAt(yt)?(n=G,yt++):(n=o,0===jt&&Rt(J)),n===o&&(n=S),n!==o?(r=yt,(i=dn())!==o?(46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),a!==o&&(s=dn())!==o?r=i=[i,a,s]:(yt=r,r=l)):(yt=r,r=l),r!==o?(xt=e,e=n=X(r)):(yt=e,e=l)):(yt=e,e=l),e===o&&(e=yt,45===t.charCodeAt(yt)?(n=Y,yt++):(n=o,0===jt&&Rt(ee)),n!==o?(r=yt,(i=dn())!==o?(46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),a!==o&&(s=dn())!==o?r=i=[i,a,s]:(yt=r,r=l)):(yt=r,r=l),r!==o?(xt=e,e=n=te(r)):(yt=e,e=l)):(yt=e,e=l)),zt[u]={nextPos:yt,result:e},e)}function Gt(){var e,n,r,i,a,s=49*yt+26,u=zt[s];if(u)return yt=u.nextPos,u.result;if(e=yt,43===t.charCodeAt(yt)?(n=G,yt++):(n=o,0===jt&&Rt(J)),n===o&&(n=S),n!==o){if(r=[],(i=un())!==o)for(;i!==o;)r.push(i),i=un();else r=l;r!==o?(i=yt,jt++,46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),jt--,a===o?i=d:(yt=i,i=l),i!==o?(xt=e,e=n=X(r)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;if(e===o)if(e=yt,45===t.charCodeAt(yt)?(n=Y,yt++):(n=o,0===jt&&Rt(ee)),n!==o){if(r=[],(i=un())!==o)for(;i!==o;)r.push(i),i=un();else r=l;r!==o?(i=yt,jt++,46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),jt--,a===o?i=d:(yt=i,i=l),i!==o?(xt=e,e=n=te(r)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;return zt[s]={nextPos:yt,result:e},e}function Jt(){var e,t,n,r,i,a=49*yt+29,s=zt[a];if(s)return yt=s.nextPos,s.result;for(e=yt,t=[],n=Yt();n!==o;)t.push(n),n=Yt();if(t!==o)if((n=Qt())!==o){for(r=[],i=Yt();i!==o;)r.push(i),i=Yt();r!==o?(xt=e,e=t=he(n)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;return zt[a]={nextPos:yt,result:e},e}function Xt(){var e,n,r,i,a,s,u,c=49*yt+30,d=zt[c];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=Yt();r!==o;)n.push(r),r=Yt();if(n!==o)if((r=Qt())!==o){for(i=[],a=Yt();a!==o;)i.push(a),a=Yt();if(i!==o)if(44===t.charCodeAt(yt)?(a=pe,yt++):(a=o,0===jt&&Rt(ge)),a!==o){for(s=[],u=Yt();u!==o;)s.push(u),u=Yt();s!==o?(xt=e,e=n=he(r)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;return zt[c]={nextPos:yt,result:e},e}function Yt(){var e,t=49*yt+31,n=zt[t];return n?(yt=n.nextPos,n.result):((e=rn())===o&&(e=on())===o&&(e=Ot()),zt[t]={nextPos:yt,result:e},e)}function en(){var e,n,r,i,a,s,u,c,d,f,h,p=49*yt+33,g=zt[p];if(g)return yt=g.nextPos,g.result;for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=Lt())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if(61===t.charCodeAt(yt)?(a=A,yt++):(a=o,0===jt&&Rt(P)),a!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();if(s!==o)if((u=Qt())!==o){for(c=[],d=rn();d!==o;)c.push(d),d=rn();if(c!==o)if(44===t.charCodeAt(yt)?(d=pe,yt++):(d=o,0===jt&&Rt(ge)),d!==o){for(f=[],h=rn();h!==o;)f.push(h),h=rn();f!==o?(xt=e,e=n=ye(r,u)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;if(e===o){for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=Lt())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if(61===t.charCodeAt(yt)?(a=A,yt++):(a=o,0===jt&&Rt(P)),a!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();s!==o&&(u=Qt())!==o?(xt=e,e=n=ye(r,u)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l}return zt[p]={nextPos:yt,result:e},e}function tn(){var e,n,r,i=49*yt+34,a=zt[i];return a?(yt=a.nextPos,a.result):(e=yt,46===t.charCodeAt(yt)?(n=x,yt++):(n=o,0===jt&&Rt(k)),n!==o&&(r=dn())!==o?(xt=e,e=n=xe(r)):(yt=e,e=l),zt[i]={nextPos:yt,result:e},e)}function nn(){var e,n,r,i,a,s,u,c,d,f,h,p,g=49*yt+35,m=zt[g];return m?(yt=m.nextPos,m.result):(e=yt,n=yt,(r=un())!==o&&(i=un())!==o&&(a=un())!==o&&(s=un())!==o?(45===t.charCodeAt(yt)?(u=Y,yt++):(u=o,0===jt&&Rt(ee)),u!==o&&(c=un())!==o&&(d=un())!==o?(45===t.charCodeAt(yt)?(f=Y,yt++):(f=o,0===jt&&Rt(ee)),f!==o&&(h=un())!==o&&(p=un())!==o?n=r=[r,i,a,s,u,c,d,f,h,p]:(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l),n!==o&&(xt=e,n=ke(n)),e=n,zt[g]={nextPos:yt,result:e},e)}function rn(){var e,n=49*yt+39,r=zt[n];return r?(yt=r.nextPos,r.result):(Ie.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=o,0===jt&&Rt(Fe)),zt[n]={nextPos:yt,result:e},e)}function on(){var e,n,r,i=49*yt+40,a=zt[i];return a?(yt=a.nextPos,a.result):(10===t.charCodeAt(yt)?(e=Te,yt++):(e=o,0===jt&&Rt(Oe)),e===o&&(e=yt,13===t.charCodeAt(yt)?(n=Ue,yt++):(n=o,0===jt&&Rt(Be)),n!==o?(10===t.charCodeAt(yt)?(r=Te,yt++):(r=o,0===jt&&Rt(Oe)),r!==o?e=n=[n,r]:(yt=e,e=l)):(yt=e,e=l)),zt[i]={nextPos:yt,result:e},e)}function an(){var e,t=49*yt+41,n=zt[t];return n?(yt=n.nextPos,n.result):((e=on())===o&&(e=rn()),zt[t]={nextPos:yt,result:e},e)}function sn(){var e,n,r=49*yt+42,i=zt[r];return i?(yt=i.nextPos,i.result):(e=yt,jt++,t.length>yt?(n=t.charAt(yt),yt++):(n=o,0===jt&&Rt(f)),jt--,n===o?e=d:(yt=e,e=l),zt[r]={nextPos:yt,result:e},e)}function ln(){var e,n=49*yt+43,r=zt[n];return r?(yt=r.nextPos,r.result):(De.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=o,0===jt&&Rt(Le)),zt[n]={nextPos:yt,result:e},e)}function un(){var e,n,r=49*yt+44,i=zt[r];return i?(yt=i.nextPos,i.result):(Ne.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=o,0===jt&&Rt(Qe)),e===o&&(e=yt,95===t.charCodeAt(yt)?(n=Me,yt++):(n=o,0===jt&&Rt(Ze)),n!==o&&(xt=e,n=He()),e=n),zt[r]={nextPos:yt,result:e},e)}function cn(){var e,n=49*yt+45,r=zt[n];return r?(yt=r.nextPos,r.result):(qe.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=o,0===jt&&Rt(Ve)),zt[n]={nextPos:yt,result:e},e)}function dn(){var e,t,n,r=49*yt+46,i=zt[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=un())!==o)for(;n!==o;)t.push(n),n=un();else t=l;return t!==o&&(xt=e,t=We(t)),e=t,zt[r]={nextPos:yt,result:e},e}function fn(){var e,n,r=49*yt+47,i=zt[r];return i?(yt=i.nextPos,i.result):(e=yt,t.substr(yt,2)===Ke?(n=Ke,yt+=2):(n=o,0===jt&&Rt(Ge)),n!==o&&(xt=e,n=Je()),(e=n)===o&&(e=yt,t.substr(yt,2)===Xe?(n=Xe,yt+=2):(n=o,0===jt&&Rt(Ye)),n!==o&&(xt=e,n=et()),(e=n)===o&&(e=yt,t.substr(yt,2)===tt?(n=tt,yt+=2):(n=o,0===jt&&Rt(nt)),n!==o&&(xt=e,n=rt()),(e=n)===o&&(e=yt,t.substr(yt,2)===ot?(n=ot,yt+=2):(n=o,0===jt&&Rt(it)),n!==o&&(xt=e,n=at()),(e=n)===o&&(e=yt,t.substr(yt,2)===st?(n=st,yt+=2):(n=o,0===jt&&Rt(lt)),n!==o&&(xt=e,n=ut()),(e=n)===o&&(e=yt,t.substr(yt,2)===ct?(n=ct,yt+=2):(n=o,0===jt&&Rt(dt)),n!==o&&(xt=e,n=ft()),(e=n)===o&&(e=yt,t.substr(yt,2)===ht?(n=ht,yt+=2):(n=o,0===jt&&Rt(pt)),n!==o&&(xt=e,n=gt()),(e=n)===o&&(e=function(){var e,n,r,i,a,s,u,c,d,f,h,p=49*yt+48,g=zt[p];return g?(yt=g.nextPos,g.result):(e=yt,t.substr(yt,2)===mt?(n=mt,yt+=2):(n=o,0===jt&&Rt(vt)),n!==o?(r=yt,(i=ln())!==o&&(a=ln())!==o&&(s=ln())!==o&&(u=ln())!==o&&(c=ln())!==o&&(d=ln())!==o&&(f=ln())!==o&&(h=ln())!==o?r=i=[i,a,s,u,c,d,f,h]:(yt=r,r=l),r!==o?(xt=e,n=bt(r),e=n):(yt=e,e=l)):(yt=e,e=l),e===o&&(e=yt,t.substr(yt,2)===wt?(n=wt,yt+=2):(n=o,0===jt&&Rt(_t)),n!==o?(r=yt,(i=ln())!==o&&(a=ln())!==o&&(s=ln())!==o&&(u=ln())!==o?r=i=[i,a,s,u]:(yt=r,r=l),r!==o?(xt=e,n=bt(r),e=n):(yt=e,e=l)):(yt=e,e=l)),zt[p]={nextPos:yt,result:e},e)}()))))))),zt[r]={nextPos:yt,result:e},e)}var hn=[];function pn(e){hn.push(e)}function gn(e,t,n,r,o){var i={type:e,value:t,line:n(),column:r()};return o&&(i.key=o),i}if((n=a())!==o&&yt===t.length)return n;throw n!==o&&yt<t.length&&Rt({type:"end",description:"end of input"}),It(null,Ct,Pt)}}}()},function(e,t,n){"use strict";e.exports={compile:function(e){var t=[],n=[],r="",o={},i=o;return function(e){var t;for(var n in e)switch((t=e[n]).type){case"Assign":s(t);break;case"ObjectPath":c(t);break;case"ArrayPath":d(t)}return o}(e);function a(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}function s(e){var o,s=e.key,c=e.value,d=e.line,f=e.column;o=r?r+"."+s:s,void 0!==i[s]&&a("Cannot redefine existing key '"+o+"'.",d,f),i[s]=u(c),l(o)||(t.push(o),n.push(o))}function l(e){return-1!==t.indexOf(e)}function u(e){return"Array"===e.type?function(e){var t=null;for(var n in e){var r=e[n];null===t?t=r.type:("Integer"!==r.type&&"Float"!==r.type||"Integer"!==t&&"Float"!==t)&&r.type!==t&&a("Cannot add value of type "+r.type+" to array of type "+t+".",r.line,r.column)}return e.map(u)}(e.value):"InlineTable"===e.type?function e(t){for(var n={},r=0;r<t.length;r++){var o=t[r];"InlineTable"===o.value.type?n[o.key]=e(o.value.value):"InlineTableValue"===o.type&&(n[o.key]=u(o.value))}return n}(e.value):e.value}function c(e){var n=e.value,s=n.map(h).join("."),u=e.line,c=e.column;l(s)&&a("Cannot redefine existing key '"+n+"'.",u,c),t.push(s),i=f(o,n,{},u,c),r=n}function d(e){var n=e.value,s=n.map(h).join("."),u=e.line,c=e.column;if(l(s)||t.push(s),(t=t.filter(function(e){return 0!==e.indexOf(s)})).push(s),i=f(o,n,[],u,c),r=s,i instanceof Array){var d={};i.push(d),i=d}else a("Cannot redefine existing key '"+n+"'.",u,c)}function f(e,t,r,o,i){var s,l=[],u="",c=(t.join("."),e),d=t.length;for(var f in t)s=t[f],l.push(s),u=l.join("."),void 0===c[s]?f===String(d-1)?c[s]=r:c[s]={}:f!==d-1&&n.indexOf(u)>-1&&a("Cannot redefine existing key '"+u+"'.",o,i),(c=c[s])instanceof Array&&c.length&&f<t.length-1&&(c=c[c.length-1]);return c}function h(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},function(e,t,n){"use strict";var r=n(6),o=n(5);t.a=async function(e){const t=await r.loadFileAsText(e);if(""===t)throw new TypeError("Empty data");const n=r.toml2object(t);for(let e in n)if(!o.validLabelTypes.includes(e))throw new TypeError("Invalid label type; "+e);return n}},function(e,t,n){"use strict";t.a=function(e){o=e,window.addEventListener("enableTextInput",e=>{r.b(e.detail)}),window.addEventListener("disappearTextInput",e=>{r.a(e.detail)}),window.addEventListener("annotationDeleted",e=>{!function({uuid:e}){r.d(e)&&r.a(...arguments)}(e.detail)}),window.addEventListener("annotationHoverIn",e=>{!function(e){0===o().length&&r.b({uuid:e.uuid,text:e.text,disable:!0})}(e.detail)}),window.addEventListener("annotationHoverOut",e=>{e.detail,0===o().length&&r.a()}),window.addEventListener("annotationSelected",e=>{!function(e){1===o().length?r.b({uuid:e.uuid,text:e.text}):r.a()}(e.detail)}),window.addEventListener("annotationDeselected",()=>{!function(){const e=o();1===e.length?r.b({uuid:e[0].uuid,text:e[0].text}):r.a()}()})};var r=n(3);let o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({getCurrentDisplayContentFile:e,uploadFinishCallback:t=function(){}}){$(".js-btn-upload").off("click").on("click",()=>{const n=e();return i({contentFile:n,successCallback:t}),!1})},t.uploadPDF=i,t.setResult=a;var r=n(0),o=n(30);function i({contentFile:e,successCallback:t=function(){}}){if(!e)return r.show({message:"Display a content before upload."});const n=$(".js-upload-progress");o.a({contentFile:e,willStartCallback:()=>{a("Waiting for response..."),n.removeClass("hidden").find(".progress-bar").css("width","0%").attr("aria-valuenow",0).text("0%")},progressCallback:e=>{n.find(".progress-bar").css("width",e+"%").attr("aria-valuenow",e).text(e+"%"),100===e&&setTimeout(()=>{n.addClass("hidden")},2e3)},successCallback:e=>{a(e),t(e)},failedCallback:e=>{const t="Failed to upload and analyze your PDF.<br>Reason: "+e;r.show({message:t}),a(e)}})}function a(e){$("#uploadResult").val(e)}},function(e,t,n){"use strict";t.a=function({contentFile:e,willStartCallback:t=function(){},progressCallback:n=function(){},successCallback:r=function(){},failedCallback:o=function(){}}={}){const i=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return window.btoa(t)}(e.content),a=window.API_ROOT+"internal/api/pdfs/"+e.name;let s={pdf:i};t(),$.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;console.log("uploadProgress:",t);let r=Math.floor(100*t);n(r)}},!1),e},url:a,method:"POST",dataType:"json",data:s}).then(e=>{"failure"!==e.status?setTimeout(()=>{r(e.text)},500):o(e.err.stderr||e.err||e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function({pages:e,scrollTo:t,searchResultRenderer:n,resetUIAfter:r}){l=e,o=t,i=n,a=r},t.enableSearchUI=function(){$("#searchWord, .js-dict-match-file").removeAttr("disabled")},t.searchPosition=function(){return c},t.setSearchPosition=function(e){c=e,f()},t.searchType=function(){return u};let r,o,i,a,s,l=[],u=null,c=-1;function d(){++c>=s&&(c=0),f()}function f(){switch(u){case"text":$(".search-current-position").text(c+1);break;case"dictionary":$(".js-dict-match-cur-pos").text(c+1)}o(c)}function h({query:e=null}={}){if($("#searchWord").is("[disabled]"))return void console.log("Search function is not enabled yet.");let t,n,r;$(".search-hit").addClass("hidden"),$(".search-current-position, .search-hit-count").text("0"),$(".js-dict-match-cur-pos, .js-dict-match-hit-counts").text("000"),a(),"text"===u?(t=$("#searchWord").val(),n=$(".js-search-case-sensitive")[0].checked,r=$(".js-search-regexp")[0].checked):(t=e,n=$(".js-dict-match-case-sensitive")[0].checked,r=!0),console.log(`doSearch: _searchType=${u} text="${t}", caseSensitive=${n}, regexp=${r}`),c=-1;!t||t.length<2||(s=0,l.forEach(e=>{const o=function({hay:e,needle:t,isCaseSensitive:n=!1,useRegexp:r=!1}){if(!t)return[];const o=/[-[\]/{}()*+?.\\^$|]/g,i="g"+(!1===n?"i":"");!1===r&&(t=t.replace(o,"\\$&"));let a,s=new RegExp(t,i),l=[];for(;null!=(a=s.exec(e));)l.push({start:a.index,end:a.index+a[0].length});return l}({hay:e.body,needle:t,isCaseSensitive:n,useRegexp:r});i(o,e,t),s+=o.length}),"text"===u?($(".search-hit").removeClass("hidden"),$(".search-current-position").text(c+1),$(".search-hit-count").text(s)):($(".js-dict-match-cur-pos").text(c+1),$(".js-dict-match-hit-counts").text(s)))}function p(e=[]){console.log("searchByDictionary:",e),u="dictionary",h({query:e.join("|")})}window.addEventListener("DOMContentLoaded",()=>{let e;$("#searchWord").on("keyup",t=>{13!==t.keyCode?(e&&(clearTimeout(e),e=null),e=setTimeout(()=>{e=null,u="text",h()},500)):d()}),$(".js-search-case-sensitive, .js-search-regexp").on("change",()=>{u="text",h()}),$(".js-search-case-sensitive, .js-search-regexp").on("click",e=>{$(e.currentTarget).blur()}),$(".js-search-clear").on("click",e=>{$("#searchWord").val(""),u=null,h(),$(e.currentTarget).blur()}),$(".js-search-prev, .js-search-next").on("click",e=>{"text"===u&&0!==s&&($(e.currentTarget).hasClass("js-search-prev")?function(){--c<0&&(c=s-1);f()}():d())})}),window.addEventListener("DOMContentLoaded",()=>{$(".js-dict-match-file :file").on("click",e=>{$(e.currentTarget).val(null)}),$(".js-dict-match-file :file").on("change",e=>{const t=e.target.files;if(0===t.length)return void window.annoUI.ui.alertDialog.show({message:"Select a file."});const n=t[0].name;$(".js-dict-match-file-name").text(n);let o=new FileReader;o.onload=(e=>{const t=e.target.result.split("\n").map(e=>e.trim()).filter(e=>e);0!==t.length?(r=t,p(t)):window.annoUI.ui.alertDialog.show({message:"No text is found in the dictionary file."})}),o.readAsText(t[0])}),$(".js-dict-match-clear").on("click",e=>{u=null,h(),$(e.currentTarget).blur()}),$(".js-dict-match-prev, .js-dict-match-next").on("click",e=>{if("dictionary"!==u)return;if(0===s)return;let t=1;$(e.currentTarget).hasClass("js-dict-match-prev")&&(t=-1),(c+=t)<0?c=s-1:c>=s&&(c=0),f()}),$(".js-dict-match-case-sensitive").on("change",()=>{p(r)})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);n.d(t,"alertDialog",function(){return r})},function(e,t,n){"use strict";function r(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!0,!0,t),window.dispatchEvent(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function(){$(document).on("keydown",e=>{17!==e.keyCode&&91!==e.keyCode||r("manageCtrlKey","on")}).on("keyup",e=>{"input"!==e.target.tagName.toLowerCase()&&r("manageCtrlKey","off")})}}])})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});const r="pdfanno",o="annoLayer",i="pageContainer"},function(e,t,n){"use strict";function r(e){let t=s();e-=i;let n=t.height+a,r=Math.floor(e/n)+1;return{pageNumber:r,y:e-(r-1)*n}}function o(e,t){let n=s(),r=t+i,o=a;return r+=(e-1)*(n.height+o)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return l});const i=9,a=9;function s(){let e=(window.PDFView||window.iframeWindow.PDFView).pdfViewer.getPageView(0).viewport.viewBox;return{width:e[2],height:e[3]}}function l(){let e=window.iframeWindow?window.iframeWindow:window;return e.nextZIndex||(e.nextZIndex=10),e.nextZIndex++}},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},a={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(6);function r(e=8){const t=e,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=n.length;let o="";for(let e=0;e<t;e++)o+=n[Math.floor(Math.random()*r)];return o}},function(e,t,n){var r=n(29),o=n(28);e.exports={parse:function(e){var t=r.parse(e.toString());return o.compile(t)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});const r=n(18);let o=r.version,i=r.pdfextract.version},function(e,t,n){"use strict";function r(){window.annotationUpdated=!1,$(window).off("beforeunload")}function o(){0!==$("#dropdownPdf ul").length&&(window.removeEventListener("resize",i),window.addEventListener("resize",i),i())}function i(){let e=$(window).innerHeight()-$("#viewerInner").offset().top;$("#viewerInner").css("height",`${e}px`),$(".loadingInProgress").css("height","99%");let t=$(window).innerHeight()-($("#dropdownPdf ul").offset().top||120);$("#dropdownPdf ul").css("max-height",`${t-20}px`);let n=$(window).innerHeight()-($("#dropdownAnnoPrimary ul").offset().top||120);$("#dropdownAnnoPrimary ul").css("max-height",`${n-20}px`);let r=$(window).innerHeight()-($("#dropdownAnnoList ul").offset().top||120);$("#dropdownAnnoList ul").css("max-height",`${r-20}px`);let o=$(window).innerHeight()-($("#dropdownAnnoReference ul").offset().top||120);$("#dropdownAnnoReference ul").css("max-height",`${o-20}px`);let i=$(window).innerHeight()-$("#tools").offset().top;$("#tools").css("height",`${i}px`)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e){let t,n,r,i=[],a=0;return e.split("\n").forEach(e=>{if(a++,t&&!e)n+=" ",r.push(e);else{let s=e.split("\t");if(!function(e){if(3!==e.length||4!==e[2].split(" ").length)return!1;if(e[1].length>=2&&e[1].startsWith("["))return!1;return!0}(s))return;s=function(e){return[parseInt(e[0]),parseInt(e[1]),"TEXT",e[2],e[3].split(" ").map(parseFloat)]}([a].concat(s));let{page:l,type:u,char:c}=o(s);t?t!==l&&(i.push({body:n,meta:r,page:t}),n="",r=[],t=l):(t=l,n="",r=[]),"TEXT"===u&&("NO_UNICODE"===c&&(c="?"),n+=c,r.push(s))}}),i.push({body:n,meta:r,page:t}),i}function o(e){const[t,n,r,o]=e[4];return{position:e[0],page:e[1],type:"TEXT",char:e[3],x:t,y:n,w:r,h:o}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var r={};(0,n(4).assign)(r,n(45),n(42),n(23)),e.exports=r},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var r=n(3),o=n(9),i=n(1);const a="#FF0",s="#0F0";let l=[];function u(e){i.searchUI.setup({pages:Object(o.a)(e),scrollTo:function(e){const t=l[e];t.color=s,t.render(),l.forEach((t,n)=>{e!==n&&(t.color=a,t.render())});let n=window.annoPage.getViewerViewport().height,o=window.annoPage.getViewerViewport().scale,i=(n+r.d)*(t.page-1)+t.rectangles[0].top*o;i-=100,$("#viewer").parent()[0].scrollTop=i}.bind(this),searchResultRenderer:function(e,t){if(e.forEach(e=>{const n=t.meta.slice(e.start,e.end).map(e=>Object(o.b)(e));if(n.length>0){const e=n[0].position,r=n[n.length-1].position,o=window.mergeRects(n),i=n.map(e=>e?e.char:" ").join(""),s=window.saveSpan({rects:o,page:t.page,save:!1,focusToLabel:!1,color:a,knob:!1,border:!1,textRange:[e,r],selectedText:i});s.disable(),l.push(s)}}),l.length>0){const e=window.PDFViewerApplication.page;let t=!1;for(let n=0;n<l.length;n++)if(e===l[n].page){i.searchUI.setSearchPosition(n),t=!0;break}t||i.searchUI.setSearchPosition(0)}}.bind(this),resetUIAfter:function(){l.forEach(e=>e.destroy()),l=[]}.bind(this)}),i.searchUI.enableSearchUI(),window.addEventListener("annotationlayercreated",()=>{l.forEach(e=>{e.render()})})}function c(){const e=i.searchUI.searchPosition();return e>-1?l[e]:null}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t){var n={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},o=r(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),i=r(function(){return document.head||document.getElementsByTagName("head")[0]}),a=null,s=0,l=[];function u(e,t){for(var r=0;r<e.length;r++){var o=e[r],i=n[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(p(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(p(o.parts[a],t));n[o.id]={id:o.id,refs:1,parts:s}}}}function c(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[i]?n[i].parts.push(a):t.push(n[i]={id:i,parts:[a]})}return t}function d(e,t){var n=i(),r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function f(e){e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function h(e){var t=document.createElement("style");return t.type="text/css",d(e,t),t}function p(e,t){var n,r,o;if(t.singleton){var i=s++;n=a||(a=h(t)),r=m.bind(null,n,i,!1),o=m.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",d(e,t),t}(t),r=function(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}.bind(null,n),o=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){f(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=o()),void 0===t.insertAt&&(t.insertAt="bottom");var r=c(e);return u(r,t),function(e){for(var o=[],i=0;i<r.length;i++){var a=r[i];(s=n[a.id]).refs--,o.push(s)}e&&u(c(e),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function m(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l});var r=n(2),o=n(10);function i(e){let{pdfNames:t,annoNames:n}=function(e){let t=[],n=[];const o=/(.*\.pdf)\.[^.]+\.txt\.gz/i;for(let i=0;i<e.length;i++){let s=e[i],l=s.webkitRelativePath,u=l.split("/");if(!(u.length>2))if(l.match(/\.pdf$/i)){const n=a(o,e,l);n&&t.push({pdf:s,file:n})}else l.match(new RegExp(`\\.${r.a}$`,"i"))&&n.push(s)}return{pdfNames:t,annoNames:n}}(e);return new Promise((e,r)=>{let o=[],i=t.map(e=>new Promise((t,n)=>{let r=new FileReader;r.onload=(n=>{t({type:"content",name:s(e.pdf.webkitRelativePath),content:n.target.result,file:e.file})}),r.readAsArrayBuffer(e.pdf)}));o=o.concat(i),i=n.map(e=>new Promise((t,n)=>{let r=new FileReader;r.onload=(n=>{t({type:"anno",name:s(e.webkitRelativePath),content:n.target.result})}),r.readAsText(e)})),o=o.concat(i),Promise.all(o).then(t=>{const n=(t=function(e){return e.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0),e}(t)).filter(e=>"content"===e.type),r=t.filter(e=>"anno"===e.type);e({contents:n,annos:r})})})}function a(e,t,n){return t.find(t=>{const r=t.webkitRelativePath.match(e);return r&&r.length>=2&&n===r[1]})}function s(e){let t=e.split("/");return t[t.length-1]}function l(e){const t=new FileReader;return new Promise((n,r)=>{t.onload=(()=>{n(o.inflate(t.result,{to:"string"}))}),t.readAsArrayBuffer(e)})}},function(e,t,n){var r,o,i;
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,s){"use strict";"object"==typeof e&&e.exports?e.exports=s(n(32),n(31),n(30)):(o=[n(32),n(31),n(30)],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))}(0,function(e,t,n,r){"use strict";var o=r&&r.URI;function i(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof i))return n?r?new i(e,t):new i(e):new i;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}i.version="1.19.1";var a=i.prototype,s=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function u(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function c(e){return"Array"===u(e)}function d(e,t){var n,r,o={};if("RegExp"===u(t))o=null;else if(c(t))for(n=0,r=t.length;n<r;n++)o[t[n]]=!0;else o[t]=!0;for(n=0,r=e.length;n<r;n++){(o&&void 0!==o[e[n]]||!o&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function f(e,t){var n,r;if(c(t)){for(n=0,r=t.length;n<r;n++)if(!f(e,t[n]))return!1;return!0}var o=u(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===o){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function h(e,t){if(!c(e)||!c(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function p(e){return e.replace(/^\/+|\/+$/g,"")}function g(e){return escape(e)}function m(e){return encodeURIComponent(e).replace(/[!'()*]/g,g).replace(/\*/g,"%2A")}i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:i.preventInvalidHostname,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.preventInvalidHostname=!1,i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\._-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.hostProtocols=["http","https"],i.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=m,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=m,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var v,b={encode:"encode",decode:"decode"},w=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(e){return n}}};for(v in b)i[v+"PathSegment"]=w("pathname",b[v]),i[v+"UrnPathSegment"]=w("urnpath",b[v]);var _=function(e,t,n){return function(r){var o;o=n?function(e){return i[t](i[n](e))}:i[t];for(var a=(r+"").split(e),s=0,l=a.length;s<l;s++)a[s]=o(a[s]);return a.join(e)}};function y(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function x(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}i.decodePath=_("/","decodePathSegment"),i.decodeUrnPath=_(":","decodeUrnPathSegment"),i.recodePath=_("/","encodePathSegment","decode"),i.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),i.encodeReserved=w("reserved","encode"),i.parse=function(e,t){var n;return t||(t={preventInvalidHostname:i.preventInvalidHostname}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e="");var n,r,o=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,o)||null,"/"===t.port&&(t.port=null);else{var a=e.indexOf(":"),s=e.indexOf("/"),l=e.indexOf(":",a+1);-1!==l&&(-1===s||l<s)?(t.hostname=e.substring(0,o)||null,t.port=null):(r=e.substring(0,o).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),t.preventInvalidHostname&&i.ensureValidHostname(t.hostname,t.protocol),t.port&&i.ensureValidPort(t.port),e.substring(o)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n,r=e.indexOf("/"),o=e.lastIndexOf("@",r>-1?r:e.length-1);return o>-1&&(-1===r||o<r)?(n=e.substring(0,o).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,o,a={},l=e.split("&"),u=l.length,c=0;c<u;c++)n=l[c].split("="),r=i.decodeQuery(n.shift(),t),o=n.length?i.decodeQuery(n.join("="),t):null,s.call(a,r)?("string"!=typeof a[r]&&null!==a[r]||(a[r]=[a[r]]),a[r].push(o)):a[r]=o;return a},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(i.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,n){var r,o,a,l,u="";for(o in e)if(s.call(e,o)&&o)if(c(e[o]))for(r={},a=0,l=e[o].length;a<l;a++)void 0!==e[o][a]&&void 0===r[e[o][a]+""]&&(u+="&"+i.buildQueryParameter(o,e[o][a],n),!0!==t&&(r[e[o][a]+""]=!0));else void 0!==e[o]&&(u+="&"+i.buildQueryParameter(o,e[o],n));return u.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),c(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},i.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&i.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},i.removeQuery=function(e,t,n){var r,o,a;if(c(t))for(r=0,o=t.length;r<o;r++)e[t[r]]=void 0;else if("RegExp"===u(t))for(a in e)t.test(a)&&(e[a]=void 0);else if("object"==typeof t)for(a in t)s.call(t,a)&&i.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===u(n)?!c(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=d(e[t],n):e[t]!==String(n)||c(n)&&1!==n.length?c(e[t])&&(e[t]=d(e[t],n)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,n,r){switch(u(t)){case"String":break;case"RegExp":for(var o in e)if(s.call(e,o)&&t.test(o)&&(void 0===n||i.hasQuery(e,o,n)))return!0;return!1;case"Object":for(var a in t)if(s.call(t,a)&&!i.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(u(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(c(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!c(e[t])&&(r?f:h)(e[t],n);case"RegExp":return c(e[t])?!!r&&f(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return c(e[t])?!!r&&f(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var o=new i(arguments[r]);e.push(o);for(var a=o.segment(),s=0;s<a.length;s++)"string"==typeof a[s]&&t.push(a[s]),a[s]&&n++}if(!t.length||!n)return new i("");var l=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=n.parens||i.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;var c=u.index;if(n.ignoreHtml){var d=e.slice(Math.max(c-3,0),c);if(d&&l.test(d))continue}for(var f=c+e.slice(c).search(o),h=e.slice(c,f),p=-1;;){var g=s.exec(h);if(!g)break;var m=g.index+g[0].length;p=Math.max(p,m)}if(!((h=p>-1?h.slice(0,p)+h.slice(p).replace(a,""):h.replace(a,"")).length<=u[0].length||n.ignore&&n.ignore.test(h))){var v=t(h,c,f=c+h.length,e);void 0!==v?(v=String(v),e=e.slice(0,c)+v+e.slice(f),r.lastIndex=c+v.length):r.lastIndex=f}}return r.lastIndex=0,e},i.ensureValidHostname=function(t,n){var r=!!t,o=!1;if(!!n&&(o=f(i.hostProtocols,n)),o&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(function(e){return/^[0-9]+$/.test(e)}(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=o),this},a.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new i(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},a.protocol=y("protocol"),a.username=y("username"),a.password=y("password"),a.hostname=y("hostname"),a.port=y("port"),a.query=x("query","?"),a.fragment=x("fragment","#"),a.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},a.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},a.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},a.path=a.pathname,a.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[i.getDomAttribute(e)]||"",o=!1);if(!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var a=r?e._parts:e;for(n in a)"query"!==n&&s.call(this._parts,n)&&(this._parts[n]=a[n]);a.query&&this.query(a.query,!1)}return this.build(!t),this},a.is=function(e){var t=!1,r=!1,o=!1,a=!1,s=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),s=(a=!(t=r||o))&&n&&n.has(this._parts.hostname),l=a&&i.idn_expression.test(this._parts.hostname),u=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var k=a.protocol,A=a.port,P=a.hostname;a.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(i.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return k.call(this,e,t)},a.scheme=a.protocol,a.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),i.ensureValidPort(e))),A.call(this,e,t))},a.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==i.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&i.ensureValidHostname(e,this._parts.protocol)}return P.call(this,e,t)},a.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=i(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},a.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";if("/"!==i.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";if("/"!==i.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=i.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},a.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},a.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,r),a=new RegExp("^"+l(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},a.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},a.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),o=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[o.toLowerCase()]&&n.get(this._parts.hostname)||o}var i;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');i=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},a.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(r):r}var o=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,o),s=new RegExp("^"+l(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},a.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?i.decodePathSegment(r):r}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(l(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(a,e),o?this.normalizePath(t):this.build(!t),this},a.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,o=this.filename(),a=o.lastIndexOf(".");return-1===a?"":(n=o.substring(a+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var s,u=this.suffix();if(u)s=e?new RegExp(l(u)+"$"):new RegExp(l("."+u)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return s&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},a.segment=function(e,t,n){var r=this._parts.urn?":":"/",o=this.path(),i="/"===o.substring(0,1),a=o.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(i&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(c(t)){a=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(p(t[s])))}else(t||"string"==typeof t)&&(t=p(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=p(t):a.splice(e,1);return i&&a.unshift(""),this.path(a.join(r),n)},a.segmentCoded=function(e,t,n){var r,o,a;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(c(r=this.segment(e,t,n)))for(o=0,a=r.length;o<a;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(c(t))for(o=0,a=t.length;o<a;o++)t[o]=i.encode(t[o]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var C=a.query;return a.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):C.call(this,e,t)},a.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)s.call(e,o)&&(r[o]=e[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},a.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},a.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},a.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},a.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var r,o,a="";for("/"!==(n=i.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=n.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(r=n.search(/\/\.\.(\/|$)/));)0!==r?(-1===(o=n.substring(0,r).lastIndexOf("/"))&&(o=r),n=n.substring(0,o)+n.substring(r+3)):n=n.substring(3);return t&&this.is("relative")&&(n=a+n.substring(1)),this._parts.path=n,this.build(!e),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},a.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},a.unicode=function(){var e=i.encode,t=i.decode;i.encode=m,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},a.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,a=t._parts.query.split("&"),s=a.length;o<s;o++){var l=(a[o]||"").split("=");r+="&"+i.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(r+="="+i.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},a.absoluteTo=function(e){var t,n,r,o=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(n=0;r=a[n];n++)o._parts[r]=e._parts[r];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},a.relativeTo=function(e){var t,n,r,o,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=s._parts,n=e._parts,o=s.path(),a=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,o===a)return t.path="",s.build();if(!(r=i.commonPath(o,a)))return s.build();var l=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(r.length)||"./",s.build()},a.equals=function(e){var t,n,r,o,a,l=this.clone(),u=new i(e),d={};if(l.normalize(),u.normalize(),l.toString()===u.toString())return!0;if(r=l.query(),o=u.query(),l.query(""),u.query(""),l.toString()!==u.toString())return!1;if(r.length!==o.length)return!1;for(a in t=i.parseQuery(r,this._parts.escapeQuerySpace),n=i.parseQuery(o,this._parts.escapeQuerySpace),t)if(s.call(t,a)){if(c(t[a])){if(!h(t[a],n[a]))return!1}else if(t[a]!==n[a])return!1;d[a]=!0}for(a in n)if(s.call(n,a)&&!d[a])return!1;return!0},a.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},a.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},a.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},,function(e){e.exports={name:"pdfanno",version:"0.5.1",description:"",main:"index.js",scripts:{_prepare:"gulp prepare","docs:dev":"vuepress dev docs","docs:build":"vuepress build docs","front:sw":"gulp build-sw","front:sw:watch":"gulp watch-sw","front:dev":'cross-env NODE_ENV=development concurrently --kill-others "npm run _prepare && npm run front:sw && webpack-dev-server --inline" "npm run front:sw:watch"',"front:publish":'cross-env-shell NODE_ENV=production "npm run _prepare && npm run front:sw && webpack && gulp publish"'},repository:{type:"git",url:"git+https://github.com/paperai/pdfanno"},author:"hshindo, yoheiMune",license:"MIT",bugs:{url:"https://github.com/paperai/pdfanno/issues"},homepage:"https://github.com/paperai/pdfanno#readme",pdfextract:{version:"0.3.0",url:"https://github.com/paperai/pdfextract/releases/download/v0.3.0/pdfextract-0.3.0.jar"},devDependencies:{"babel-cli":"^6.26.0","babel-core":"^6.26.0","babel-eslint":"^7.2.3","babel-helpers":"^6.24.1","babel-loader":"6.2.4","babel-messages":"^6.23.0","babel-minify-webpack-plugin":"^0.3.0","babel-plugin-add-module-exports":"^0.2.1","babel-preset-es2015":"^6.24.1","babel-preset-stage-1":"^6.24.1",concurrently:"^3.5.1",copy:"^0.3.0",cpr:"^2.2.0","cross-env":"^5.0.5","css-loader":"^0.25.0","deep-assign":"^2.0.0",eslint:"^3.19.0","eslint-config-standard":"^6.2.1","eslint-friendly-formatter":"^2.0.7","eslint-loader":"^1.7.1","eslint-plugin-html":"^2.0.0","eslint-plugin-promise":"^3.5.0","eslint-plugin-standard":"^2.3.1","file-loader":"^0.9.0","fs-extra":"^1.0.0","fuse.js":"^3.1.0",gulp:"^3.9.1","gulp-clean-css":"^3.9.3","gulp-cli":"^1.4.0","gulp-replace":"^0.6.1","gulp-sourcemaps":"^2.6.4","gulp-uglify-es":"^1.0.1","gulp-util":"^3.0.8","node-dev":"^3.1.3","run-sequence":"^2.2.1","style-loader":"^0.13.2","vinyl-source-stream":"^1.1.0",vuepress:"^0.10.2",webpack:"^4.14.0","webpack-dev-server":"^3.1.4"},dependencies:{"anno-ui":"github:paperai/anno-ui#master",axios:"^0.15.2","body-parser":"^1.17.2",express:"^4.15.4","gulp-htmlmin":"^4.0.0","json-loader":"^0.5.7",mkdirp:"^0.5.1","mkdirp-promise":"^5.0.1",multer:"^1.3.0",pako:"^1.0.6",request:"^2.81.0","request-promise":"^4.2.2",requirejs:"^2.3.5",semver:"^5.5.0","socket.io":"^2.0.4",toml:"github:yoheiMune/toml-node",urijs:"^1.19.0","webpack-cli":"^3.0.8"}}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return m});var r=n(5),o=n(6),i=n.n(o),a=n(3),s=n(1);function l(){window.add=d,window.addAll=u,window.delete=f,window.RectAnnotation=h,window.SpanAnnotation=p,window.RelationAnnotation=g,window.readTOML=m,window.clear=v}function u(e){let t=[];for(const n in e){let o,i=e[n];"object"==typeof i&&(i.id=n,i.uuid=Object(r.a)(),c(i),"span"===i.type?o=new p(i):"rect"===i.type?o=new h(i):"relation"===i.type?(i.ids=i.ids.map(t=>e[t].uuid),o=new g(i)):console.log("Unknown: ",n,i),o&&(d(o),t.push(o)))}return t}function c(e){const t=s.labelInput.getColorMap();let n=null;if(n="span"===e.type?t[e.type]:t[e.dir]){const t=n[e.label];t&&(e.color=t)}}function d(e){let t=e.annotation;window.annoPage.addAnnotation(t),t.render(),t.enableViewMode(),t.save()}function f(e){e.annotation.destroy()}class h{constructor({page:e,position:t,label:n="",id:r=0,uuid:o=""}){if(!e||"number"!=typeof e)throw new Error("Set the page as number.");if(!t||4!==t.length)throw new Error("Set the position which includes `x`, `y`, `width` and `height`.");t=t.map(e=>parseFloat(e));let i=window.annoPage.createRectAnnotation({uuid:o,x:t[0],y:Object(a.a)(e,t[1]),width:t[2],height:t[3],text:n,color:"#FF0",readOnly:!1});this.annotation=i}}class p{constructor({page:e,position:t,label:n="",text:r="",id:o=0,uuid:i="",zIndex:a=10,textrange:s=[],color:l=null}){if(!e||"number"!=typeof e)throw new Error("Set the page as number.");let u=window.annoPage.createSpanAnnotation({uuid:i,page:e,text:n,color:l||"#FFEB3B",readOnly:!1,selectedText:r,textRange:s,zIndex:a});this.annotation=u}}class g{constructor({dir:e,ids:t,label:n="",id:r=0,uuid:o="",color:i="#FF0000"}){if(!e)throw new Error("Set the dir.");if(!t||2!==t.length)throw new Error("Set the ids.");let a=window.annoPage.createRelationAnnotation({uuid:o,direction:e,rel1:"object"==typeof t[0]?t[0].annotation:t[0],rel2:"object"==typeof t[1]?t[1].annotation:t[1],text:n,color:i,readOnly:!1});this.annotation=a}}const m=i.a.parse;function v(){window.annoPage.clearAllAnnotations()}},,,function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";var r=n(4),o=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,o,i,a,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,i=0;a<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,o=t.length;n<o;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,i,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((o=e[n++])<128)u[r++]=o;else if((i=a[o])>4)u[r++]=65533,n+=i-1;else{for(o&=2===i?31:3===i?15:7;i>1&&n<s;)o=o<<6|63&e[n++],i--;i>1?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return l(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},function(e,t,n){"use strict";e.exports={compile:function(e){var t=[],n=[],r="",o={},i=o;return function(e){var t;for(var n in e)switch((t=e[n]).type){case"Assign":s(t);break;case"ObjectPath":c(t);break;case"ArrayPath":d(t)}return o}(e);function a(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}function s(e){var o,s=e.key,c=e.value,d=e.line,f=e.column;o=r?r+"."+s:s,void 0!==i[s]&&a("Cannot redefine existing key '"+o+"'.",d,f),i[s]=u(c),l(o)||(t.push(o),n.push(o))}function l(e){return-1!==t.indexOf(e)}function u(e){return"Array"===e.type?function(e){var t=null;for(var n in e){var r=e[n];null===t?t=r.type:("Integer"!==r.type&&"Float"!==r.type||"Integer"!==t&&"Float"!==t)&&r.type!==t&&a("Cannot add value of type "+r.type+" to array of type "+t+".",r.line,r.column)}return e.map(u)}(e.value):"InlineTable"===e.type?function e(t){for(var n={},r=0;r<t.length;r++){var o=t[r];"InlineTable"===o.value.type?n[o.key]=e(o.value.value):"InlineTableValue"===o.type&&(n[o.key]=u(o.value))}return n}(e.value):e.value}function c(e){var n=e.value,s=n.map(h).join("."),u=e.line,c=e.column;l(s)&&a("Cannot redefine existing key '"+n+"'.",u,c),t.push(s),i=f(o,n,{},u,c),r=n}function d(e){var n=e.value,s=n.map(h).join("."),u=e.line,c=e.column;if(l(s)||t.push(s),(t=t.filter(function(e){return 0!==e.indexOf(s)})).push(s),i=f(o,n,[],u,c),r=s,i instanceof Array){var d={};i.push(d),i=d}else a("Cannot redefine existing key '"+n+"'.",u,c)}function f(e,t,r,o,i){var s,l=[],u="",c=(t.join("."),e),d=t.length;for(var f in t)s=t[f],l.push(s),u=l.join("."),void 0===c[s]?f===String(d-1)?c[s]=r:c[s]={}:f!==d-1&&n.indexOf(u)>-1&&a("Cannot redefine existing key '"+u+"'.",o,i),(c=c[s])instanceof Array&&c.length&&f<t.length-1&&(c=c[c.length-1]);return c}function h(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},function(e,t){e.exports=function(){function e(e,t,n,r,o,i){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=o,this.column=i,this.name="SyntaxError"}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},o={},i={start:Ft},a=Ft,s=function(){return hn},l=o,u="#",c={type:"literal",value:"#",description:'"#"'},d=void 0,f={type:"any",description:"any character"},h="[",p={type:"literal",value:"[",description:'"["'},g="]",m={type:"literal",value:"]",description:'"]"'},v=function(e){pn(gn("ObjectPath",e,$t,Et))},b=function(e){pn(gn("ArrayPath",e,$t,Et))},w=function(e,t){return e.concat(t)},_=function(e){return[e]},y=function(e){return e},x=".",k={type:"literal",value:".",description:'"."'},A="=",P={type:"literal",value:"=",description:'"="'},C=function(e,t){pn(gn("Assign",t,$t,Et,e))},j=function(e){return e.join("")},z=function(e){return e.value},$='"""',E={type:"literal",value:'"""',description:'"\\"\\"\\""'},S=null,R=function(e){return gn("String",e.join(""),$t,Et)},I='"',F={type:"literal",value:'"',description:'"\\""'},T="'''",O={type:"literal",value:"'''",description:"\"'''\""},U="'",B={type:"literal",value:"'",description:'"\'"'},D=function(e){return e},L=function(e){return e},N="\\",Q={type:"literal",value:"\\",description:'"\\\\"'},M=function(){return""},Z="e",H={type:"literal",value:"e",description:'"e"'},q="E",V={type:"literal",value:"E",description:'"E"'},W=function(e,t){return gn("Float",parseFloat(e+"e"+t),$t,Et)},K=function(e){return gn("Float",parseFloat(e),$t,Et)},G="+",J={type:"literal",value:"+",description:'"+"'},X=function(e){return e.join("")},Y="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},ne=function(e){return gn("Integer",parseInt(e,10),$t,Et)},re="true",oe={type:"literal",value:"true",description:'"true"'},ie=function(){return gn("Boolean",!0,$t,Et)},ae="false",se={type:"literal",value:"false",description:'"false"'},le=function(){return gn("Boolean",!1,$t,Et)},ue=function(){return gn("Array",[],$t,Et)},ce=function(e){return gn("Array",e?[e]:[],$t,Et)},de=function(e){return gn("Array",e,$t,Et)},fe=function(e,t){return gn("Array",e.concat(t),$t,Et)},he=function(e){return e},pe=",",ge={type:"literal",value:",",description:'","'},me="{",ve={type:"literal",value:"{",description:'"{"'},be="}",we={type:"literal",value:"}",description:'"}"'},_e=function(e){return gn("InlineTable",e,$t,Et)},ye=function(e,t){return gn("InlineTableValue",t,$t,Et,e)},xe=function(e){return"."+e},ke=function(e){return e.join("")},Ae=":",Pe={type:"literal",value:":",description:'":"'},Ce=function(e){return e.join("")},je="T",ze={type:"literal",value:"T",description:'"T"'},$e="Z",Ee={type:"literal",value:"Z",description:'"Z"'},Se=function(e,t){return gn("Date",new Date(e+"T"+t+"Z"),$t,Et)},Re=function(e,t){return gn("Date",new Date(e+"T"+t),$t,Et)},Ie=/^[ \t]/,Fe={type:"class",value:"[ \\t]",description:"[ \\t]"},Te="\n",Oe={type:"literal",value:"\n",description:'"\\n"'},Ue="\r",Be={type:"literal",value:"\r",description:'"\\r"'},De=/^[0-9a-f]/i,Le={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Ne=/^[0-9]/,Qe={type:"class",value:"[0-9]",description:"[0-9]"},Me="_",Ze={type:"literal",value:"_",description:'"_"'},He=function(){return""},qe=/^[A-Za-z0-9_\-]/,Ve={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},We=function(e){return e.join("")},Ke='\\"',Ge={type:"literal",value:'\\"',description:'"\\\\\\""'},Je=function(){return'"'},Xe="\\\\",Ye={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",nt={type:"literal",value:"\\b",description:'"\\\\b"'},rt=function(){return"\b"},ot="\\t",it={type:"literal",value:"\\t",description:'"\\\\t"'},at=function(){return"\t"},st="\\n",lt={type:"literal",value:"\\n",description:'"\\\\n"'},ut=function(){return"\n"},ct="\\f",dt={type:"literal",value:"\\f",description:'"\\\\f"'},ft=function(){return"\f"},ht="\\r",pt={type:"literal",value:"\\r",description:'"\\\\r"'},gt=function(){return"\r"},mt="\\U",vt={type:"literal",value:"\\U",description:'"\\\\U"'},bt=function(e){return function(e,t,n){var r=parseInt("0x"+e);if(!(!isFinite(r)||Math.floor(r)!=r||r<0||r>1114111||r>55295&&r<57344))return function(){var e,t,n=[],r=-1,o=arguments.length;if(!o)return"";for(var i="";++r<o;){var a=Number(arguments[r]);a<=65535?n.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,n.push(e,t)),(r+1==o||n.length>16384)&&(i+=String.fromCharCode.apply(null,n),n.length=0)}return i}(r);!function(e,t,n){var r=new Error(e);throw r.line=t,r.column=n,r}("Invalid Unicode escape code: "+e,t,n)}(e.join(""))},wt="\\u",_t={type:"literal",value:"\\u",description:'"\\\\u"'},yt=0,xt=0,kt=0,At={line:1,column:1,seenCR:!1},Pt=0,Ct=[],jt=0,zt={};if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');a=i[r.startRule]}function $t(){return St(xt).line}function Et(){return St(xt).column}function St(e){return kt!==e&&(kt>e&&(kt=0,At={line:1,column:1,seenCR:!1}),function(e,n,r){var o,i;for(o=n;o<r;o++)"\n"===(i=t.charAt(o))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(At,kt,e),kt=e),At}function Rt(e){yt<Pt||(yt>Pt&&(Pt=yt,Ct=[]),Ct.push(e))}function It(n,r,o){var i=St(o),a=o<t.length?t.charAt(o):null;return null!==r&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==n?n:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(r,a),r,a,o,i.line,i.column)}function Ft(){var e,t,n,r=49*yt+0,i=zt[r];if(i)return yt=i.nextPos,i.result;for(e=yt,t=[],n=Tt();n!==o;)t.push(n),n=Tt();return t!==o&&(xt=e,t=s()),e=t,zt[r]={nextPos:yt,result:e},e}function Tt(){var e,n,r,i,a,s,u,c=49*yt+1,d=zt[c];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=function(){var e,n=49*yt+2,r=zt[n];return r?(yt=r.nextPos,r.result):((e=Ot())===o&&(e=function(){var e,n,r,i,a,s,u=49*yt+4,c=zt[u];if(c)return yt=c.nextPos,c.result;if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();if(r!==o)if((i=Ut())!==o){for(a=[],s=rn();s!==o;)a.push(s),s=rn();a!==o?(93===t.charCodeAt(yt)?(s=g,yt++):(s=o,0===jt&&Rt(m)),s!==o?(xt=e,n=v(i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;return zt[u]={nextPos:yt,result:e},e}())===o&&(e=function(){var e,n,r,i,a,s,u,c,d=49*yt+5,f=zt[d];if(f)return yt=f.nextPos,f.result;if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o)if(91===t.charCodeAt(yt)?(r=h,yt++):(r=o,0===jt&&Rt(p)),r!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if((a=Ut())!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();s!==o?(93===t.charCodeAt(yt)?(u=g,yt++):(u=o,0===jt&&Rt(m)),u!==o?(93===t.charCodeAt(yt)?(c=g,yt++):(c=o,0===jt&&Rt(m)),c!==o?(xt=e,n=b(a),e=n):(yt=e,e=l)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;return zt[d]={nextPos:yt,result:e},e}())===o&&(e=function(){var e,n,r,i,a,s,u=49*yt+9,c=zt[u];if(c)return yt=c.nextPos,c.result;if(e=yt,(n=Lt())!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();if(r!==o)if(61===t.charCodeAt(yt)?(i=A,yt++):(i=o,0===jt&&Rt(P)),i!==o){for(a=[],s=rn();s!==o;)a.push(s),s=rn();a!==o&&(s=Qt())!==o?(xt=e,n=C(n,s),e=n):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;if(e===o)if(e=yt,(n=Nt())!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();if(r!==o)if(61===t.charCodeAt(yt)?(i=A,yt++):(i=o,0===jt&&Rt(P)),i!==o){for(a=[],s=rn();s!==o;)a.push(s),s=rn();a!==o&&(s=Qt())!==o?(xt=e,n=C(n,s),e=n):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;return zt[u]={nextPos:yt,result:e},e}()),zt[n]={nextPos:yt,result:e},e)}())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o){for(a=[],s=Ot();s!==o;)a.push(s),s=Ot();if(a!==o){if(s=[],(u=on())!==o)for(;u!==o;)s.push(u),u=on();else s=l;s===o&&(s=sn()),s!==o?e=n=[n,r,i,a,s]:(yt=e,e=l)}else yt=e,e=l}else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;if(e===o){if(e=yt,n=[],(r=rn())!==o)for(;r!==o;)n.push(r),r=rn();else n=l;if(n!==o){if(r=[],(i=on())!==o)for(;i!==o;)r.push(i),i=on();else r=l;r===o&&(r=sn()),r!==o?e=n=[n,r]:(yt=e,e=l)}else yt=e,e=l;e===o&&(e=on())}return zt[c]={nextPos:yt,result:e},e}function Ot(){var e,n,r,i,a,s,h=49*yt+3,p=zt[h];if(p)return yt=p.nextPos,p.result;if(e=yt,35===t.charCodeAt(yt)?(n=u,yt++):(n=o,0===jt&&Rt(c)),n!==o){for(r=[],i=yt,a=yt,jt++,(s=on())===o&&(s=sn()),jt--,s===o?a=d:(yt=a,a=l),a!==o?(t.length>yt?(s=t.charAt(yt),yt++):(s=o,0===jt&&Rt(f)),s!==o?i=a=[a,s]:(yt=i,i=l)):(yt=i,i=l);i!==o;)r.push(i),i=yt,a=yt,jt++,(s=on())===o&&(s=sn()),jt--,s===o?a=d:(yt=a,a=l),a!==o?(t.length>yt?(s=t.charAt(yt),yt++):(s=o,0===jt&&Rt(f)),s!==o?i=a=[a,s]:(yt=i,i=l)):(yt=i,i=l);r!==o?e=n=[n,r]:(yt=e,e=l)}else yt=e,e=l;return zt[h]={nextPos:yt,result:e},e}function Ut(){var e,t,n,r=49*yt+6,i=zt[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=Dt())!==o)for(;n!==o;)t.push(n),n=Dt();else t=l;return t!==o&&(n=Bt())!==o?(xt=e,e=t=w(t,n)):(yt=e,e=l),e===o&&(e=yt,(t=Bt())!==o&&(xt=e,t=_(t)),e=t),zt[r]={nextPos:yt,result:e},e}function Bt(){var e,t,n,r,i,a=49*yt+7,s=zt[a];if(s)return yt=s.nextPos,s.result;for(e=yt,t=[],n=rn();n!==o;)t.push(n),n=rn();if(t!==o)if((n=Lt())!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();r!==o?(xt=e,e=t=y(n)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;if(e===o){for(e=yt,t=[],n=rn();n!==o;)t.push(n),n=rn();if(t!==o)if((n=Nt())!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();r!==o?(xt=e,e=t=y(n)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}return zt[a]={nextPos:yt,result:e},e}function Dt(){var e,n,r,i,a,s,u,c=49*yt+8,d=zt[c];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=Lt())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if(46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),a!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();s!==o?(xt=e,e=n=y(r)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;if(e===o){for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=Nt())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if(46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),a!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();s!==o?(xt=e,e=n=y(r)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l}return zt[c]={nextPos:yt,result:e},e}function Lt(){var e,t,n,r=49*yt+10,i=zt[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=cn())!==o)for(;n!==o;)t.push(n),n=cn();else t=l;return t!==o&&(xt=e,t=j(t)),e=t,zt[r]={nextPos:yt,result:e},e}function Nt(){var e,t,n=49*yt+11,r=zt[n];return r?(yt=r.nextPos,r.result):(e=yt,(t=Mt())!==o&&(xt=e,t=z(t)),(e=t)===o&&(e=yt,(t=Zt())!==o&&(xt=e,t=z(t)),e=t),zt[n]={nextPos:yt,result:e},e)}function Qt(){var e,n=49*yt+12,r=zt[n];return r?(yt=r.nextPos,r.result):((e=function(){var e,n=49*yt+13,r=zt[n];return r?(yt=r.nextPos,r.result):((e=function(){var e,n,r,i,a,s=49*yt+14,u=zt[s];if(u)return yt=u.nextPos,u.result;if(e=yt,t.substr(yt,3)===$?(n=$,yt+=3):(n=o,0===jt&&Rt(E)),n!==o)if((r=on())===o&&(r=S),r!==o){for(i=[],a=Vt();a!==o;)i.push(a),a=Vt();i!==o?(t.substr(yt,3)===$?(a=$,yt+=3):(a=o,0===jt&&Rt(E)),a!==o?(xt=e,n=R(i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;return zt[s]={nextPos:yt,result:e},e}())===o&&(e=Mt())===o&&(e=function(){var e,n,r,i,a,s=49*yt+16,u=zt[s];if(u)return yt=u.nextPos,u.result;if(e=yt,t.substr(yt,3)===T?(n=T,yt+=3):(n=o,0===jt&&Rt(O)),n!==o)if((r=on())===o&&(r=S),r!==o){for(i=[],a=Wt();a!==o;)i.push(a),a=Wt();i!==o?(t.substr(yt,3)===T?(a=T,yt+=3):(a=o,0===jt&&Rt(O)),a!==o?(xt=e,n=R(i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;return zt[s]={nextPos:yt,result:e},e}())===o&&(e=Zt()),zt[n]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,n,r,i,a,s=49*yt+38,u=zt[s];return u?(yt=u.nextPos,u.result):(e=yt,(n=nn())!==o?(84===t.charCodeAt(yt)?(r=je,yt++):(r=o,0===jt&&Rt(ze)),r!==o&&(i=function(){var e,n,r,i,a,s,u,c,d,f,h,p=49*yt+36,g=zt[p];return g?(yt=g.nextPos,g.result):(e=yt,n=yt,(r=un())!==o&&(i=un())!==o?(58===t.charCodeAt(yt)?(a=Ae,yt++):(a=o,0===jt&&Rt(Pe)),a!==o&&(s=un())!==o&&(u=un())!==o?(58===t.charCodeAt(yt)?(c=Ae,yt++):(c=o,0===jt&&Rt(Pe)),c!==o&&(d=un())!==o&&(f=un())!==o?((h=tn())===o&&(h=S),h!==o?n=r=[r,i,a,s,u,c,d,f,h]:(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l),n!==o&&(xt=e,n=Ce(n)),e=n,zt[p]={nextPos:yt,result:e},e)}())!==o?(90===t.charCodeAt(yt)?(a=$e,yt++):(a=o,0===jt&&Rt(Ee)),a!==o?(xt=e,n=Se(n,i),e=n):(yt=e,e=l)):(yt=e,e=l)):(yt=e,e=l),e===o&&(e=yt,(n=nn())!==o?(84===t.charCodeAt(yt)?(r=je,yt++):(r=o,0===jt&&Rt(ze)),r!==o&&(i=function(){var e,n,r,i,a,s,u,c,d,f,h,p,g,m,v,b,w,_=49*yt+37,y=zt[_];return y?(yt=y.nextPos,y.result):(e=yt,n=yt,(r=un())!==o&&(i=un())!==o?(58===t.charCodeAt(yt)?(a=Ae,yt++):(a=o,0===jt&&Rt(Pe)),a!==o&&(s=un())!==o&&(u=un())!==o?(58===t.charCodeAt(yt)?(c=Ae,yt++):(c=o,0===jt&&Rt(Pe)),c!==o&&(d=un())!==o&&(f=un())!==o?((h=tn())===o&&(h=S),h!==o?(45===t.charCodeAt(yt)?(p=Y,yt++):(p=o,0===jt&&Rt(ee)),p===o&&(43===t.charCodeAt(yt)?(p=G,yt++):(p=o,0===jt&&Rt(J))),p!==o&&(g=un())!==o&&(m=un())!==o?(58===t.charCodeAt(yt)?(v=Ae,yt++):(v=o,0===jt&&Rt(Pe)),v!==o&&(b=un())!==o&&(w=un())!==o?n=r=[r,i,a,s,u,c,d,f,h,p,g,m,v,b,w]:(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l),n!==o&&(xt=e,n=Ce(n)),e=n,zt[_]={nextPos:yt,result:e},e)}())!==o?(xt=e,n=Re(n,i),e=n):(yt=e,e=l)):(yt=e,e=l)),zt[s]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,n,r,i,a=49*yt+23,s=zt[a];return s?(yt=s.nextPos,s.result):(e=yt,(n=Kt())===o&&(n=Gt()),n!==o?(101===t.charCodeAt(yt)?(r=Z,yt++):(r=o,0===jt&&Rt(H)),r===o&&(69===t.charCodeAt(yt)?(r=q,yt++):(r=o,0===jt&&Rt(V))),r!==o&&(i=Gt())!==o?(xt=e,n=W(n,i),e=n):(yt=e,e=l)):(yt=e,e=l),e===o&&(e=yt,(n=Kt())!==o&&(xt=e,n=K(n)),e=n),zt[a]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,t,n=49*yt+25,r=zt[n];return r?(yt=r.nextPos,r.result):(e=yt,(t=Gt())!==o&&(xt=e,t=ne(t)),e=t,zt[n]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,n,r=49*yt+27,i=zt[r];return i?(yt=i.nextPos,i.result):(e=yt,t.substr(yt,4)===re?(n=re,yt+=4):(n=o,0===jt&&Rt(oe)),n!==o&&(xt=e,n=ie()),(e=n)===o&&(e=yt,t.substr(yt,5)===ae?(n=ae,yt+=5):(n=o,0===jt&&Rt(se)),n!==o&&(xt=e,n=le()),e=n),zt[r]={nextPos:yt,result:e},e)}())===o&&(e=function(){var e,n,r,i,a,s=49*yt+28,u=zt[s];if(u)return yt=u.nextPos,u.result;if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o){for(r=[],i=Yt();i!==o;)r.push(i),i=Yt();r!==o?(93===t.charCodeAt(yt)?(i=g,yt++):(i=o,0===jt&&Rt(m)),i!==o?(xt=e,n=ue(),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;if(e===o&&(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o?((r=Jt())===o&&(r=S),r!==o?(93===t.charCodeAt(yt)?(i=g,yt++):(i=o,0===jt&&Rt(m)),i!==o?(xt=e,n=ce(r),e=n):(yt=e,e=l)):(yt=e,e=l)):(yt=e,e=l),e===o)){if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o){if(r=[],(i=Xt())!==o)for(;i!==o;)r.push(i),i=Xt();else r=l;r!==o?(93===t.charCodeAt(yt)?(i=g,yt++):(i=o,0===jt&&Rt(m)),i!==o?(xt=e,n=de(r),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;if(e===o)if(e=yt,91===t.charCodeAt(yt)?(n=h,yt++):(n=o,0===jt&&Rt(p)),n!==o){if(r=[],(i=Xt())!==o)for(;i!==o;)r.push(i),i=Xt();else r=l;r!==o&&(i=Jt())!==o?(93===t.charCodeAt(yt)?(a=g,yt++):(a=o,0===jt&&Rt(m)),a!==o?(xt=e,n=fe(r,i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l}return zt[s]={nextPos:yt,result:e},e}())===o&&(e=function(){var e,n,r,i,a,s,u=49*yt+32,c=zt[u];if(c)return yt=c.nextPos,c.result;if(e=yt,123===t.charCodeAt(yt)?(n=me,yt++):(n=o,0===jt&&Rt(ve)),n!==o){for(r=[],i=rn();i!==o;)r.push(i),i=rn();if(r!==o){for(i=[],a=en();a!==o;)i.push(a),a=en();if(i!==o){for(a=[],s=rn();s!==o;)a.push(s),s=rn();a!==o?(125===t.charCodeAt(yt)?(s=be,yt++):(s=o,0===jt&&Rt(we)),s!==o?(xt=e,n=_e(i),e=n):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l}else yt=e,e=l}else yt=e,e=l;return zt[u]={nextPos:yt,result:e},e}()),zt[n]={nextPos:yt,result:e},e)}function Mt(){var e,n,r,i,a=49*yt+15,s=zt[a];if(s)return yt=s.nextPos,s.result;if(e=yt,34===t.charCodeAt(yt)?(n=I,yt++):(n=o,0===jt&&Rt(F)),n!==o){for(r=[],i=Ht();i!==o;)r.push(i),i=Ht();r!==o?(34===t.charCodeAt(yt)?(i=I,yt++):(i=o,0===jt&&Rt(F)),i!==o?(xt=e,e=n=R(r)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;return zt[a]={nextPos:yt,result:e},e}function Zt(){var e,n,r,i,a=49*yt+17,s=zt[a];if(s)return yt=s.nextPos,s.result;if(e=yt,39===t.charCodeAt(yt)?(n=U,yt++):(n=o,0===jt&&Rt(B)),n!==o){for(r=[],i=qt();i!==o;)r.push(i),i=qt();r!==o?(39===t.charCodeAt(yt)?(i=U,yt++):(i=o,0===jt&&Rt(B)),i!==o?(xt=e,e=n=R(r)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;return zt[a]={nextPos:yt,result:e},e}function Ht(){var e,n,r,i=49*yt+18,a=zt[i];return a?(yt=a.nextPos,a.result):((e=fn())===o&&(e=yt,n=yt,jt++,34===t.charCodeAt(yt)?(r=I,yt++):(r=o,0===jt&&Rt(F)),jt--,r===o?n=d:(yt=n,n=l),n!==o?(t.length>yt?(r=t.charAt(yt),yt++):(r=o,0===jt&&Rt(f)),r!==o?(xt=e,e=n=D(r)):(yt=e,e=l)):(yt=e,e=l)),zt[i]={nextPos:yt,result:e},e)}function qt(){var e,n,r,i=49*yt+19,a=zt[i];return a?(yt=a.nextPos,a.result):(e=yt,n=yt,jt++,39===t.charCodeAt(yt)?(r=U,yt++):(r=o,0===jt&&Rt(B)),jt--,r===o?n=d:(yt=n,n=l),n!==o?(t.length>yt?(r=t.charAt(yt),yt++):(r=o,0===jt&&Rt(f)),r!==o?(xt=e,e=n=D(r)):(yt=e,e=l)):(yt=e,e=l),zt[i]={nextPos:yt,result:e},e)}function Vt(){var e,n,r,i=49*yt+20,a=zt[i];return a?(yt=a.nextPos,a.result):((e=fn())===o&&(e=function(){var e,n,r,i,a=49*yt+21,s=zt[a];if(s)return yt=s.nextPos,s.result;if(e=yt,92===t.charCodeAt(yt)?(n=N,yt++):(n=o,0===jt&&Rt(Q)),n!==o)if(on()!==o){for(r=[],i=an();i!==o;)r.push(i),i=an();r!==o?(xt=e,n=M(),e=n):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;return zt[a]={nextPos:yt,result:e},e}())===o&&(e=yt,n=yt,jt++,t.substr(yt,3)===$?(r=$,yt+=3):(r=o,0===jt&&Rt(E)),jt--,r===o?n=d:(yt=n,n=l),n!==o?(t.length>yt?(r=t.charAt(yt),yt++):(r=o,0===jt&&Rt(f)),r!==o?(xt=e,e=n=L(r)):(yt=e,e=l)):(yt=e,e=l)),zt[i]={nextPos:yt,result:e},e)}function Wt(){var e,n,r,i=49*yt+22,a=zt[i];return a?(yt=a.nextPos,a.result):(e=yt,n=yt,jt++,t.substr(yt,3)===T?(r=T,yt+=3):(r=o,0===jt&&Rt(O)),jt--,r===o?n=d:(yt=n,n=l),n!==o?(t.length>yt?(r=t.charAt(yt),yt++):(r=o,0===jt&&Rt(f)),r!==o?(xt=e,e=n=D(r)):(yt=e,e=l)):(yt=e,e=l),zt[i]={nextPos:yt,result:e},e)}function Kt(){var e,n,r,i,a,s,u=49*yt+24,c=zt[u];return c?(yt=c.nextPos,c.result):(e=yt,43===t.charCodeAt(yt)?(n=G,yt++):(n=o,0===jt&&Rt(J)),n===o&&(n=S),n!==o?(r=yt,(i=dn())!==o?(46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),a!==o&&(s=dn())!==o?r=i=[i,a,s]:(yt=r,r=l)):(yt=r,r=l),r!==o?(xt=e,e=n=X(r)):(yt=e,e=l)):(yt=e,e=l),e===o&&(e=yt,45===t.charCodeAt(yt)?(n=Y,yt++):(n=o,0===jt&&Rt(ee)),n!==o?(r=yt,(i=dn())!==o?(46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),a!==o&&(s=dn())!==o?r=i=[i,a,s]:(yt=r,r=l)):(yt=r,r=l),r!==o?(xt=e,e=n=te(r)):(yt=e,e=l)):(yt=e,e=l)),zt[u]={nextPos:yt,result:e},e)}function Gt(){var e,n,r,i,a,s=49*yt+26,u=zt[s];if(u)return yt=u.nextPos,u.result;if(e=yt,43===t.charCodeAt(yt)?(n=G,yt++):(n=o,0===jt&&Rt(J)),n===o&&(n=S),n!==o){if(r=[],(i=un())!==o)for(;i!==o;)r.push(i),i=un();else r=l;r!==o?(i=yt,jt++,46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),jt--,a===o?i=d:(yt=i,i=l),i!==o?(xt=e,e=n=X(r)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;if(e===o)if(e=yt,45===t.charCodeAt(yt)?(n=Y,yt++):(n=o,0===jt&&Rt(ee)),n!==o){if(r=[],(i=un())!==o)for(;i!==o;)r.push(i),i=un();else r=l;r!==o?(i=yt,jt++,46===t.charCodeAt(yt)?(a=x,yt++):(a=o,0===jt&&Rt(k)),jt--,a===o?i=d:(yt=i,i=l),i!==o?(xt=e,e=n=te(r)):(yt=e,e=l)):(yt=e,e=l)}else yt=e,e=l;return zt[s]={nextPos:yt,result:e},e}function Jt(){var e,t,n,r,i,a=49*yt+29,s=zt[a];if(s)return yt=s.nextPos,s.result;for(e=yt,t=[],n=Yt();n!==o;)t.push(n),n=Yt();if(t!==o)if((n=Qt())!==o){for(r=[],i=Yt();i!==o;)r.push(i),i=Yt();r!==o?(xt=e,e=t=he(n)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l;return zt[a]={nextPos:yt,result:e},e}function Xt(){var e,n,r,i,a,s,u,c=49*yt+30,d=zt[c];if(d)return yt=d.nextPos,d.result;for(e=yt,n=[],r=Yt();r!==o;)n.push(r),r=Yt();if(n!==o)if((r=Qt())!==o){for(i=[],a=Yt();a!==o;)i.push(a),a=Yt();if(i!==o)if(44===t.charCodeAt(yt)?(a=pe,yt++):(a=o,0===jt&&Rt(ge)),a!==o){for(s=[],u=Yt();u!==o;)s.push(u),u=Yt();s!==o?(xt=e,e=n=he(r)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;return zt[c]={nextPos:yt,result:e},e}function Yt(){var e,t=49*yt+31,n=zt[t];return n?(yt=n.nextPos,n.result):((e=rn())===o&&(e=on())===o&&(e=Ot()),zt[t]={nextPos:yt,result:e},e)}function en(){var e,n,r,i,a,s,u,c,d,f,h,p=49*yt+33,g=zt[p];if(g)return yt=g.nextPos,g.result;for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=Lt())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if(61===t.charCodeAt(yt)?(a=A,yt++):(a=o,0===jt&&Rt(P)),a!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();if(s!==o)if((u=Qt())!==o){for(c=[],d=rn();d!==o;)c.push(d),d=rn();if(c!==o)if(44===t.charCodeAt(yt)?(d=pe,yt++):(d=o,0===jt&&Rt(ge)),d!==o){for(f=[],h=rn();h!==o;)f.push(h),h=rn();f!==o?(xt=e,e=n=ye(r,u)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l;if(e===o){for(e=yt,n=[],r=rn();r!==o;)n.push(r),r=rn();if(n!==o)if((r=Lt())!==o){for(i=[],a=rn();a!==o;)i.push(a),a=rn();if(i!==o)if(61===t.charCodeAt(yt)?(a=A,yt++):(a=o,0===jt&&Rt(P)),a!==o){for(s=[],u=rn();u!==o;)s.push(u),u=rn();s!==o&&(u=Qt())!==o?(xt=e,e=n=ye(r,u)):(yt=e,e=l)}else yt=e,e=l;else yt=e,e=l}else yt=e,e=l;else yt=e,e=l}return zt[p]={nextPos:yt,result:e},e}function tn(){var e,n,r,i=49*yt+34,a=zt[i];return a?(yt=a.nextPos,a.result):(e=yt,46===t.charCodeAt(yt)?(n=x,yt++):(n=o,0===jt&&Rt(k)),n!==o&&(r=dn())!==o?(xt=e,e=n=xe(r)):(yt=e,e=l),zt[i]={nextPos:yt,result:e},e)}function nn(){var e,n,r,i,a,s,u,c,d,f,h,p,g=49*yt+35,m=zt[g];return m?(yt=m.nextPos,m.result):(e=yt,n=yt,(r=un())!==o&&(i=un())!==o&&(a=un())!==o&&(s=un())!==o?(45===t.charCodeAt(yt)?(u=Y,yt++):(u=o,0===jt&&Rt(ee)),u!==o&&(c=un())!==o&&(d=un())!==o?(45===t.charCodeAt(yt)?(f=Y,yt++):(f=o,0===jt&&Rt(ee)),f!==o&&(h=un())!==o&&(p=un())!==o?n=r=[r,i,a,s,u,c,d,f,h,p]:(yt=n,n=l)):(yt=n,n=l)):(yt=n,n=l),n!==o&&(xt=e,n=ke(n)),e=n,zt[g]={nextPos:yt,result:e},e)}function rn(){var e,n=49*yt+39,r=zt[n];return r?(yt=r.nextPos,r.result):(Ie.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=o,0===jt&&Rt(Fe)),zt[n]={nextPos:yt,result:e},e)}function on(){var e,n,r,i=49*yt+40,a=zt[i];return a?(yt=a.nextPos,a.result):(10===t.charCodeAt(yt)?(e=Te,yt++):(e=o,0===jt&&Rt(Oe)),e===o&&(e=yt,13===t.charCodeAt(yt)?(n=Ue,yt++):(n=o,0===jt&&Rt(Be)),n!==o?(10===t.charCodeAt(yt)?(r=Te,yt++):(r=o,0===jt&&Rt(Oe)),r!==o?e=n=[n,r]:(yt=e,e=l)):(yt=e,e=l)),zt[i]={nextPos:yt,result:e},e)}function an(){var e,t=49*yt+41,n=zt[t];return n?(yt=n.nextPos,n.result):((e=on())===o&&(e=rn()),zt[t]={nextPos:yt,result:e},e)}function sn(){var e,n,r=49*yt+42,i=zt[r];return i?(yt=i.nextPos,i.result):(e=yt,jt++,t.length>yt?(n=t.charAt(yt),yt++):(n=o,0===jt&&Rt(f)),jt--,n===o?e=d:(yt=e,e=l),zt[r]={nextPos:yt,result:e},e)}function ln(){var e,n=49*yt+43,r=zt[n];return r?(yt=r.nextPos,r.result):(De.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=o,0===jt&&Rt(Le)),zt[n]={nextPos:yt,result:e},e)}function un(){var e,n,r=49*yt+44,i=zt[r];return i?(yt=i.nextPos,i.result):(Ne.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=o,0===jt&&Rt(Qe)),e===o&&(e=yt,95===t.charCodeAt(yt)?(n=Me,yt++):(n=o,0===jt&&Rt(Ze)),n!==o&&(xt=e,n=He()),e=n),zt[r]={nextPos:yt,result:e},e)}function cn(){var e,n=49*yt+45,r=zt[n];return r?(yt=r.nextPos,r.result):(qe.test(t.charAt(yt))?(e=t.charAt(yt),yt++):(e=o,0===jt&&Rt(Ve)),zt[n]={nextPos:yt,result:e},e)}function dn(){var e,t,n,r=49*yt+46,i=zt[r];if(i)return yt=i.nextPos,i.result;if(e=yt,t=[],(n=un())!==o)for(;n!==o;)t.push(n),n=un();else t=l;return t!==o&&(xt=e,t=We(t)),e=t,zt[r]={nextPos:yt,result:e},e}function fn(){var e,n,r=49*yt+47,i=zt[r];return i?(yt=i.nextPos,i.result):(e=yt,t.substr(yt,2)===Ke?(n=Ke,yt+=2):(n=o,0===jt&&Rt(Ge)),n!==o&&(xt=e,n=Je()),(e=n)===o&&(e=yt,t.substr(yt,2)===Xe?(n=Xe,yt+=2):(n=o,0===jt&&Rt(Ye)),n!==o&&(xt=e,n=et()),(e=n)===o&&(e=yt,t.substr(yt,2)===tt?(n=tt,yt+=2):(n=o,0===jt&&Rt(nt)),n!==o&&(xt=e,n=rt()),(e=n)===o&&(e=yt,t.substr(yt,2)===ot?(n=ot,yt+=2):(n=o,0===jt&&Rt(it)),n!==o&&(xt=e,n=at()),(e=n)===o&&(e=yt,t.substr(yt,2)===st?(n=st,yt+=2):(n=o,0===jt&&Rt(lt)),n!==o&&(xt=e,n=ut()),(e=n)===o&&(e=yt,t.substr(yt,2)===ct?(n=ct,yt+=2):(n=o,0===jt&&Rt(dt)),n!==o&&(xt=e,n=ft()),(e=n)===o&&(e=yt,t.substr(yt,2)===ht?(n=ht,yt+=2):(n=o,0===jt&&Rt(pt)),n!==o&&(xt=e,n=gt()),(e=n)===o&&(e=function(){var e,n,r,i,a,s,u,c,d,f,h,p=49*yt+48,g=zt[p];return g?(yt=g.nextPos,g.result):(e=yt,t.substr(yt,2)===mt?(n=mt,yt+=2):(n=o,0===jt&&Rt(vt)),n!==o?(r=yt,(i=ln())!==o&&(a=ln())!==o&&(s=ln())!==o&&(u=ln())!==o&&(c=ln())!==o&&(d=ln())!==o&&(f=ln())!==o&&(h=ln())!==o?r=i=[i,a,s,u,c,d,f,h]:(yt=r,r=l),r!==o?(xt=e,n=bt(r),e=n):(yt=e,e=l)):(yt=e,e=l),e===o&&(e=yt,t.substr(yt,2)===wt?(n=wt,yt+=2):(n=o,0===jt&&Rt(_t)),n!==o?(r=yt,(i=ln())!==o&&(a=ln())!==o&&(s=ln())!==o&&(u=ln())!==o?r=i=[i,a,s,u]:(yt=r,r=l),r!==o?(xt=e,n=bt(r),e=n):(yt=e,e=l)):(yt=e,e=l)),zt[p]={nextPos:yt,result:e},e)}()))))))),zt[r]={nextPos:yt,result:e},e)}var hn=[];function pn(e){hn.push(e)}function gn(e,t,n,r,o){var i={type:e,value:t,line:n(),column:r()};return o&&(i.key=o),i}if((n=a())!==o&&yt===t.length)return n;throw n!==o&&yt<t.length&&Rt({type:"end",description:"end of input"}),It(null,Ct,Pt)}}}()},function(e,t,n){var r,o;
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(i,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var o=n.list[e.slice(t+1)];return!!o&&o.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var o=n.list[e.slice(t+1)];return o?o.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n})},function(e,t,n){var r,o;
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(i,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():void 0===(o="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o)}(0,function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(":"),o=r.length,i=8;for(""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[o-1]&&""===r[o-2]&&r.pop(),-1!==r[(o=r.length)-1].indexOf(".")&&(i=7),t=0;t<o&&""!==r[t];t++);if(t<i)for(r.splice(t,1,"0000");r.length<i;)r.splice(t,0,"0000");for(var a=0;a<i;a++){n=r[a].split("");for(var s=0;s<3&&"0"===n[0]&&n.length>1;s++)n.splice(0,1);r[a]=n.join("")}var l=-1,u=0,c=0,d=-1,f=!1;for(a=0;a<i;a++)f?"0"===r[a]?c+=1:(f=!1,c>u&&(l=d,u=c)):"0"===r[a]&&(f=!0,d=a,c=1);c>u&&(l=d,u=c),u>1&&r.splice(l,u,""),o=r.length;var h="";for(""===r[0]&&(h=":"),a=0;a<o&&(h+=r[a],a!==o-1);a++)h+=":";return""===r[o-1]&&(h+=":"),h},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}})},function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.0 by @mathias */!function(i){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,u=36,c=1,d=26,f=38,h=700,p=72,g=128,m="-",v=/^xn--/,b=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=u-c,x=Math.floor,k=String.fromCharCode;function A(e){throw new RangeError(_[e])}function P(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function C(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+P((e=e.replace(w,".")).split("."),t).join(".")}function j(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function z(e){return P(e,function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)}).join("")}function $(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,n){var r=0;for(e=n?x(e/h):e>>1,e+=x(e/t);e>y*d>>1;r+=u)e=x(e/y);return x(r+(y+1)*e/(e+f))}function R(e){var t,n,r,o,i,a,s,f,h,v,b=[],w=e.length,_=0,y=g,k=p;for((n=e.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&A("not-basic"),b.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<w;){for(i=_,a=1,s=u;o>=w&&A("invalid-input"),((f=$(e.charCodeAt(o++)))>=u||f>x((l-_)/a))&&A("overflow"),_+=f*a,!(f<(h=s<=k?c:s>=k+d?d:s-k));s+=u)a>x(l/(v=u-h))&&A("overflow"),a*=v;k=S(_-i,t=b.length+1,0==i),x(_/t)>l-y&&A("overflow"),y+=x(_/t),_%=t,b.splice(_++,0,y)}return z(b)}function I(e){var t,n,r,o,i,a,s,f,h,v,b,w,_,y,P,C=[];for(w=(e=j(e)).length,t=g,n=0,i=p,a=0;a<w;++a)(b=e[a])<128&&C.push(k(b));for(r=o=C.length,o&&C.push(m);r<w;){for(s=l,a=0;a<w;++a)(b=e[a])>=t&&b<s&&(s=b);for(s-t>x((l-n)/(_=r+1))&&A("overflow"),n+=(s-t)*_,t=s,a=0;a<w;++a)if((b=e[a])<t&&++n>l&&A("overflow"),b==t){for(f=n,h=u;!(f<(v=h<=i?c:h>=i+d?d:h-i));h+=u)P=f-v,y=u-v,C.push(k(E(v+P%y,0))),f=x(P/y);C.push(k(E(f,0))),i=S(n,_,r==o),n=0,++r}++n,++t}return C.join("")}s={version:"1.3.2",ucs2:{decode:j,encode:z},decode:R,encode:I,toASCII:function(e){return C(e,function(e){return b.test(e)?"xn--"+I(e):e})},toUnicode:function(e){return C(e,function(e){return v.test(e)?R(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(47)(e),n(46))},function(e,t,n){"use strict";var r=n(1),o=n(15),i=n(11);function a(e){console.log(e.updated)}var s=n(3),l=n(8),u=n(0),c=n(2),d=n(10),f=n(7);n.d(t,"a",function(){return h});class h{constructor(){this.autoBind()}autoBind(){Object.getOwnPropertyNames(this.constructor.prototype).filter(e=>"function"==typeof this[e]).forEach(e=>{this[e]=this[e].bind(this)})}startViewerApplication(){Object(l.a)(),Object(l.b)(),u.b("iframeReady")}loadFiles(e){return Object(o.a)(e).then(e=>{this.contentFiles=e.contents.map(e=>Object.assign(e,{selected:!1})),this.annoFiles=e.annos.map(e=>Object.assign(e,{primary:!1,reference:!1}))})}getContentFile(e){const t=this.contentFiles.filter(t=>t.name===e);return t.length>0?t[0]:null}getAnnoFile(e){const t=this.annoFiles.filter(t=>t.name===e);return t.length>0?t[0]:null}displayContent(e){let t=this.contentFiles.filter(t=>t.name===e);0!==t.length?this.displayViewer(t[0]):console.log("displayContent: NOT FOUND FILE. file=",e)}displayViewer(e){this.resetPDFViewerSettings();const t=new Uint8Array(e.content);window.PDFViewerApplication.open(t),window.PDFView.url=e.name,this.currentContentFile=e}setCurrentContentFile(e){this.currentContentFile=e}getCurrentContentFile(){return this.currentContentFile}initializeViewer(e="../pdfs/P12-1046.pdf",t="#viewer"){window.pdf=null,window.pdfName=null,this.resetPDFViewerSettings()}closePDFViewer(){window.PDFViewerApplication&&(window.PDFViewerApplication.close(),$("#numPages",window.document).text(""),this.currentContentFile=null,u.b("didCloseViewer"))}resetPDFViewerSettings(){localStorage.removeItem("database")}createSpan({text:e=null,color:t=null}={}){const n=window.PDFAnnoCore.default.UI.getRectangles(),o=Object(i.a)(),a=window.annotationContainer.getSelectedAnnotations();if(!n&&!o&&0===a.length)return console.log("check:",n),r.ui.alertDialog.show({message:"Select text span or an annotation."});if(a.length>0)a.filter(e=>"span"===e.type).forEach(n=>{n.color=t,n.text=e,n.render(),n.enableViewMode()}),u.b("disappearTextInput");else if(n)window.PDFAnnoCore.default.UI.createSpan({text:e,zIndex:Object(s.c)(),color:t});else if(o){const n=window.saveSpan({page:o.page,rects:o.rectangles,text:e,zIndex:Object(s.c)(),color:t,textRange:o.textRange,selectedText:o.selectedText});this.addAnnotation(n),u.b("enableTextInput",{uuid:n.uuid,text:e,autoFocus:!0})}u.b("annotationrendered")}createRelation({type:e,text:t=null,color:n=null}={}){1===arguments.length&&"string"==typeof arguments[0]&&(e=arguments[0]);const o=window.annotationContainer.getSelectedAnnotations().filter(e=>"relation"===e.type);if(o.length>0)return void o.filter(t=>t.direction===e).forEach(e=>{e.text=t,e.color=n,e.render(),e.enableViewMode()});let i=window.annotationContainer.getSelectedAnnotations();if((i=i.filter(e=>"rect"===e.type||"span"===e.type).sort((e,t)=>e.selectedTime-t.selectedTime)).length<2)return r.ui.alertDialog.show({message:"Two annotated text spans are not selected.\nTo select multiple annotated spans, click the first annotated span, then Ctrl+Click (Windows) or Cmd+Click (OSX) the second span."});const a=i[i.length-2],s=i[i.length-1],l=window.annotationContainer.getAllAnnotations().filter(e=>"relation"===e.type).filter(e=>u.a(e.rel1Annotation.uuid,[a.uuid,s.uuid])&&u.a(e.rel2Annotation.uuid,[a.uuid,s.uuid]));if(l.length>0)return console.log("same found!!!"),l[0].direction=e,l[0].rel1Annotation=a,l[0].rel2Annotation=s,l[0].text=t,l[0].color=n||l[0].color,l[0].save(),l[0].render(),l[0].enableViewMode(),void u.b("enableTextInput",{uuid:l[0].uuid,text:l[0].text});window.PDFAnnoCore.default.UI.createRelation({type:e,anno1:a,anno2:s,text:t,color:n}),u.b("annotationrendered")}displayAnnotation(e){if(""===$("#numPages",window.document).text())return;const t=r.labelInput.getColorMap();let n=[],o=-1;e&&$("#dropdownAnnoPrimary a").each((e,t)=>{let r=$(t);if(!1===r.find(".fa-check").hasClass("no-visible")){let e=r.find(".js-annoname").text();const t=window.annoPage.getAnnoFile(e);if(!t)return void console.log("ERROR");o=0,n.push(t.content);let i=t.name;localStorage.setItem("_pdfanno_primary_annoname",i),console.log("filename:",i)}}),e||$("#dropdownAnnoReference a").each((e,t)=>{let r=$(t);if(!1===r.find(".fa-check").hasClass("no-visible")){let e=r.find(".js-annoname").text();const t=window.annoPage.getAnnoFile(e);if(!t)return void console.log("ERROR");n.push(t.content)}});let i={primary:o,annotations:n,colorMap:t};window.annoPage.importAnnotation(i,e)}getAllAnnotations(){return window.annotationContainer?window.annotationContainer.getAllAnnotations():[]}getSelectedAnnotations(){return window.annotationContainer.getSelectedAnnotations()}findAnnotationById(e){return window.annotationContainer.findById(e)}clearAllAnnotations(){window.annotationContainer.getAllAnnotations().forEach(e=>e.destroy())}addAnnotation(e){window.annotationContainer.add(e)}createRectAnnotation(e){return window.PDFAnnoCore.default.RectAnnotation.newInstance(e)}createSpanAnnotation(e){return console.log("createSpanAnnotation:",e),window.PDFAnnoCore.default.SpanAnnotation.newInstance(e)}createRelationAnnotation(e){return window.PDFAnnoCore.default.RelationAnnotation.newInstance(e)}validateSchemaErrors(e){let t=[];return e.forEach(e=>{Object.keys(e).forEach(n=>{let r=e[n];r="object"==typeof r?JSON.stringify(r):r,t.push(`${n}: ${r}`)}),t.push("")}),t.join("<br />")}importAnnotation(e,t){window.annotationContainer.importAnnotations(e,t).then(()=>{u.b("annotationrendered")}).catch(e=>{let t=e;Array.isArray(e)&&(t=this.validateSchemaErrors(e)),r.ui.alertDialog.show({message:t})})}scrollToAnnotation(e){let t=window.annoPage.findAnnotationById(e);if(t){let e,n;if("span"===t.type)e=t.page,n=t.rectangles[0].y;else{let r=t.y||t.y1,o=Object(s.b)(r);e=o.pageNumber,n=o.y}let r=window.annoPage.getViewerViewport().height,o=window.annoPage.getViewerViewport().scale,i=(r+s.d)*(e-1)+n*o;i-=100,$("#viewer").parent()[0].scrollTop=i,t.highlight(),setTimeout(()=>{t.dehighlight()},1e3)}}exportData({exportType:e="toml"}={}){return window.annotationContainer.exportData(...arguments)}getViewerViewport(){return window.PDFView.pdfViewer.getPageView(0).viewport}getCurrentContentName(){return window.getFileName(window.PDFView.url)}loadPdf(e){return fetch(e,{method:"GET",mode:"cors"}).then(e=>{if(e.ok)return e.arrayBuffer();throw new Error(`HTTP ${e.status} - PDFファイルのロードに失敗しました。`)}).then(e=>new Uint8Array(e))}loadPdftxt(e){return fetch(e,{method:"GET",mode:"cors"}).then(e=>{if(e.ok)return e.arrayBuffer();throw new Error(`HTTP ${e.status} - pdftxtファイルのロードに失敗しました。`)}).then(e=>new Uint8Array(e)).then(e=>d.inflate(e,{to:"string"}))}loadPDFFromServer(e){const t=e+"."+f.b.replace(/\./g,"-")+".txt.gz";return Promise.all([this.loadPdf(e),this.loadPdftxt(t)]).then(e=>({pdf:e[0],analyzeResult:e[1]}))}loadAnnoFileFromServer(e){return fetch(e,{method:"GET",mode:"cors"}).then(e=>{if(e.ok)return e.text();throw new Error(`HTTP ${e.status} - annotationファイルのロードに失敗しました。`)})}set pdftxt(e){this._pdftxt=e}get pdftxt(){return this._pdftxt}async checkAnnotationUpdate(){const e=this.prevAnnotations,t=this.prevFileName,n=this.prevLabelMap,r=this.getAllAnnotations();let o;if((()=>{let e;if($("#dropdownAnnoPrimary a").each((t,n)=>{let r=$(n);!1===r.find(".fa-check").hasClass("no-visible")&&(e=r.find(".js-annoname").text())}),e)return void(o=e);let t=this.getCurrentContentFile()&&this.getCurrentContentFile().name;if(!t)return;let n=t.replace(/\.pdf$/i,"."+c.a);o=n})(),o){if(e&&t&&r&&o)if(t!==o)a({fileName:o,updated:`file was changed (${t} => ${o}).`,userId:$("#userId").val(),annotation:await this.exportData()});else if(r.length>e.length){const t=r.filter(t=>-1===e.indexOf(t));if(t.length>0){const e=t.map(e=>e.uuid);a({fileName:o,updated:`an annotation(${e.join(",")}) was added.`,userId:$("#userId").val(),annotation:await this.exportData()})}}else if(r.length<e.length){const t=e.filter(e=>-1===r.indexOf(e));if(t.length>0){const e=t.map(e=>e.uuid).map(e=>`an annotation(${e}) was deleted.`);a({fileName:o,updated:e.join("\n"),userId:$("#userId").val(),annotation:await this.exportData()})}}else{const e=Object.keys(n).filter(e=>{const t=r.filter(t=>e===t.uuid);return t.length>0&&n[e]!==t[0].text});e.length>0&&a({fileName:o,updated:`an label(${e.join(",")}) was changed.`,userId:$("#userId").val(),annotation:await this.exportData()})}this.prevAnnotations=r,this.prevFileName=o,this.prevLabelMap={},r.forEach(e=>{this.prevLabelMap[e.uuid]=e.text})}}}},,,,,function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var r=n(4),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,c,d,f){var h,p,g,m,v,b,w,_,y,x=f.bits,k=0,A=0,P=0,C=0,j=0,z=0,$=0,E=0,S=0,R=0,I=null,F=0,T=new r.Buf16(16),O=new r.Buf16(16),U=null,B=0;for(k=0;k<=15;k++)T[k]=0;for(A=0;A<l;A++)T[t[n+A]]++;for(j=x,C=15;C>=1&&0===T[C];C--);if(j>C&&(j=C),0===C)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(P=1;P<C&&0===T[P];P++);for(j<P&&(j=P),E=1,k=1;k<=15;k++)if(E<<=1,(E-=T[k])<0)return-1;if(E>0&&(0===e||1!==C))return-1;for(O[1]=0,k=1;k<15;k++)O[k+1]=O[k]+T[k];for(A=0;A<l;A++)0!==t[n+A]&&(d[O[t[n+A]]++]=A);if(0===e?(I=U=d,b=19):1===e?(I=o,F-=257,U=i,B-=257,b=256):(I=a,U=s,b=-1),R=0,A=0,k=P,v=c,z=j,$=0,g=-1,m=(S=1<<j)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){w=k-$,d[A]<b?(_=0,y=d[A]):d[A]>b?(_=U[B+d[A]],y=I[F+d[A]]):(_=96,y=0),h=1<<k-$,P=p=1<<z;do{u[v+(R>>$)+(p-=h)]=w<<24|_<<16|y|0}while(0!==p);for(h=1<<k-1;R&h;)h>>=1;if(0!==h?(R&=h-1,R+=h):R=0,A++,0==--T[k]){if(k===C)break;k=t[n+d[A]]}if(k>j&&(R&m)!==g){for(0===$&&($=j),v+=P,E=1<<(z=k-$);z+$<C&&!((E-=T[z+$])<=0);)z++,E<<=1;if(S+=1<<z,1===e&&S>852||2===e&&S>592)return 1;u[g=R&m]=j<<24|z<<16|v-c|0}}return 0!==R&&(u[v+R]=k-$<<24|64<<16|0),f.bits=j,0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,s,l,u,c,d,f,h,p,g,m,v,b,w,_,y,x,k,A,P,C;n=e.state,r=e.next_in,P=e.input,o=r+(e.avail_in-5),i=e.next_out,C=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{p<15&&(h+=P[r++]<<p,p+=8,h+=P[r++]<<p,p+=8),w=g[h&v];t:for(;;){if(h>>>=_=w>>>24,p-=_,0===(_=w>>>16&255))C[i++]=65535&w;else{if(!(16&_)){if(0==(64&_)){w=g[(65535&w)+(h&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}y=65535&w,(_&=15)&&(p<_&&(h+=P[r++]<<p,p+=8),y+=h&(1<<_)-1,h>>>=_,p-=_),p<15&&(h+=P[r++]<<p,p+=8,h+=P[r++]<<p,p+=8),w=m[h&b];n:for(;;){if(h>>>=_=w>>>24,p-=_,!(16&(_=w>>>16&255))){if(0==(64&_)){w=m[(65535&w)+(h&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&w,p<(_&=15)&&(h+=P[r++]<<p,(p+=8)<_&&(h+=P[r++]<<p,p+=8)),(x+=h&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=_,p-=_,x>(_=i-a)){if((_=x-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,A=f,0===d){if(k+=u-_,_<y){y-=_;do{C[i++]=f[k++]}while(--_);k=i-x,A=C}}else if(d<_){if(k+=u+d-_,(_-=d)<y){y-=_;do{C[i++]=f[k++]}while(--_);if(k=0,d<y){y-=_=d;do{C[i++]=f[k++]}while(--_);k=i-x,A=C}}}else if(k+=d-_,_<y){y-=_;do{C[i++]=f[k++]}while(--_);k=i-x,A=C}for(;y>2;)C[i++]=A[k++],C[i++]=A[k++],C[i++]=A[k++],y-=3;y&&(C[i++]=A[k++],y>1&&(C[i++]=A[k++]))}else{k=i-x;do{C[i++]=C[k++],C[i++]=C[k++],C[i++]=C[k++],y-=3}while(y>2);y&&(C[i++]=C[k++],y>1&&(C[i++]=C[k++]))}break}}break}}while(r<o&&i<s);r-=y=p>>3,h&=(1<<(p-=y<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=h,n.bits=p}},function(e,t,n){"use strict";var r=n(4),o=n(27),i=n(26),a=n(40),s=n(39),l=0,u=1,c=2,d=4,f=5,h=6,p=0,g=1,m=2,v=-2,b=-3,w=-4,_=-5,y=8,x=1,k=2,A=3,P=4,C=5,j=6,z=7,$=8,E=9,S=10,R=11,I=12,F=13,T=14,O=15,U=16,B=17,D=18,L=19,N=20,Q=21,M=22,Z=23,H=24,q=25,V=26,W=27,K=28,G=29,J=30,X=31,Y=32,ee=852,te=592,ne=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function oe(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,p):v}function ie(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,oe(e)):v}function ae(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ie(e))):v}function se(e,t){var n,o;return e?(o=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=o,o.window=null,(n=ae(e,t))!==p&&(e.state=null),n):v}var le,ue,ce=!0;function de(e){if(ce){var t;for(le=new r.Buf32(512),ue=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,ue,0,e.work,{bits:5}),ce=!1}e.lencode=le,e.lenbits=9,e.distcode=ue,e.distbits=5}function fe(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>o&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=ie,t.inflateReset2=ae,t.inflateResetKeep=oe,t.inflateInit=function(e){return se(e,ne)},t.inflateInit2=se,t.inflate=function(e,t){var n,ee,te,ne,oe,ie,ae,se,le,ue,ce,he,pe,ge,me,ve,be,we,_e,ye,xe,ke,Ae,Pe,Ce=0,je=new r.Buf8(4),ze=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(n=e.state).mode===I&&(n.mode=F),oe=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,ie=e.avail_in,se=n.hold,le=n.bits,ue=ie,ce=ae,ke=p;e:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=F;break}for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,je[0]=255&se,je[1]=se>>>8&255,n.check=i(n.check,je,2,0),se=0,le=0,n.mode=k;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=J;break}if((15&se)!==y){e.msg="unknown compression method",n.mode=J;break}if(le-=4,xe=8+(15&(se>>>=4)),0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=J;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&se?S:I,se=0,le=0;break;case k:for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==y){e.msg="unknown compression method",n.mode=J;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=J;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(je[0]=255&se,je[1]=se>>>8&255,n.check=i(n.check,je,2,0)),se=0,le=0,n.mode=A;case A:for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(je[0]=255&se,je[1]=se>>>8&255,je[2]=se>>>16&255,je[3]=se>>>24&255,n.check=i(n.check,je,4,0)),se=0,le=0,n.mode=P;case P:for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(je[0]=255&se,je[1]=se>>>8&255,n.check=i(n.check,je,2,0)),se=0,le=0,n.mode=C;case C:if(1024&n.flags){for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(je[0]=255&se,je[1]=se>>>8&255,n.check=i(n.check,je,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=j;case j:if(1024&n.flags&&((he=n.length)>ie&&(he=ie),he&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,he,xe)),512&n.flags&&(n.check=i(n.check,ee,he,ne)),ie-=he,ne+=he,n.length-=he),n.length))break e;n.length=0,n.mode=z;case z:if(2048&n.flags){if(0===ie)break e;he=0;do{xe=ee[ne+he++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe))}while(xe&&he<ie);if(512&n.flags&&(n.check=i(n.check,ee,he,ne)),ie-=he,ne+=he,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=$;case $:if(4096&n.flags){if(0===ie)break e;he=0;do{xe=ee[ne+he++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe))}while(xe&&he<ie);if(512&n.flags&&(n.check=i(n.check,ee,he,ne)),ie-=he,ne+=he,xe)break e}else n.head&&(n.head.comment=null);n.mode=E;case E:if(512&n.flags){for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=J;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=I;break;case S:for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=re(se),se=0,le=0,n.mode=R;case R:if(0===n.havedict)return e.next_out=oe,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,m;e.adler=n.check=1,n.mode=I;case I:if(t===f||t===h)break e;case F:if(n.last){se>>>=7&le,le-=7&le,n.mode=W;break}for(;le<3;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,le-=1,3&(se>>>=1)){case 0:n.mode=T;break;case 1:if(de(n),n.mode=N,t===h){se>>>=2,le-=2;break e}break;case 2:n.mode=B;break;case 3:e.msg="invalid block type",n.mode=J}se>>>=2,le-=2;break;case T:for(se>>>=7&le,le-=7&le;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=J;break}if(n.length=65535&se,se=0,le=0,n.mode=O,t===h)break e;case O:n.mode=U;case U:if(he=n.length){if(he>ie&&(he=ie),he>ae&&(he=ae),0===he)break e;r.arraySet(te,ee,ne,he,oe),ie-=he,ne+=he,ae-=he,oe+=he,n.length-=he;break}n.mode=I;break;case B:for(;le<14;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=J;break}n.have=0,n.mode=D;case D:for(;n.have<n.ncode;){for(;le<3;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.lens[ze[n.have++]]=7&se,se>>>=3,le-=3}for(;n.have<19;)n.lens[ze[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ae={bits:n.lenbits},ke=s(l,n.lens,0,19,n.lencode,0,n.work,Ae),n.lenbits=Ae.bits,ke){e.msg="invalid code lengths set",n.mode=J;break}n.have=0,n.mode=L;case L:for(;n.have<n.nlen+n.ndist;){for(;ve=(Ce=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,be=65535&Ce,!((me=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(be<16)se>>>=me,le-=me,n.lens[n.have++]=be;else{if(16===be){for(Pe=me+2;le<Pe;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se>>>=me,le-=me,0===n.have){e.msg="invalid bit length repeat",n.mode=J;break}xe=n.lens[n.have-1],he=3+(3&se),se>>>=2,le-=2}else if(17===be){for(Pe=me+3;le<Pe;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}le-=me,xe=0,he=3+(7&(se>>>=me)),se>>>=3,le-=3}else{for(Pe=me+7;le<Pe;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}le-=me,xe=0,he=11+(127&(se>>>=me)),se>>>=7,le-=7}if(n.have+he>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=J;break}for(;he--;)n.lens[n.have++]=xe}}if(n.mode===J)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=J;break}if(n.lenbits=9,Ae={bits:n.lenbits},ke=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,Ae),n.lenbits=Ae.bits,ke){e.msg="invalid literal/lengths set",n.mode=J;break}if(n.distbits=6,n.distcode=n.distdyn,Ae={bits:n.distbits},ke=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ae),n.distbits=Ae.bits,ke){e.msg="invalid distances set",n.mode=J;break}if(n.mode=N,t===h)break e;case N:n.mode=Q;case Q:if(ie>=6&&ae>=258){e.next_out=oe,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,a(e,ce),oe=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,ie=e.avail_in,se=n.hold,le=n.bits,n.mode===I&&(n.back=-1);break}for(n.back=0;ve=(Ce=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,be=65535&Ce,!((me=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(ve&&0==(240&ve)){for(we=me,_e=ve,ye=be;ve=(Ce=n.lencode[ye+((se&(1<<we+_e)-1)>>we)])>>>16&255,be=65535&Ce,!(we+(me=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}se>>>=we,le-=we,n.back+=we}if(se>>>=me,le-=me,n.back+=me,n.length=be,0===ve){n.mode=V;break}if(32&ve){n.back=-1,n.mode=I;break}if(64&ve){e.msg="invalid literal/length code",n.mode=J;break}n.extra=15&ve,n.mode=M;case M:if(n.extra){for(Pe=n.extra;le<Pe;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Z;case Z:for(;ve=(Ce=n.distcode[se&(1<<n.distbits)-1])>>>16&255,be=65535&Ce,!((me=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(0==(240&ve)){for(we=me,_e=ve,ye=be;ve=(Ce=n.distcode[ye+((se&(1<<we+_e)-1)>>we)])>>>16&255,be=65535&Ce,!(we+(me=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}se>>>=we,le-=we,n.back+=we}if(se>>>=me,le-=me,n.back+=me,64&ve){e.msg="invalid distance code",n.mode=J;break}n.offset=be,n.extra=15&ve,n.mode=H;case H:if(n.extra){for(Pe=n.extra;le<Pe;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=J;break}n.mode=q;case q:if(0===ae)break e;if(he=ce-ae,n.offset>he){if((he=n.offset-he)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=J;break}he>n.wnext?(he-=n.wnext,pe=n.wsize-he):pe=n.wnext-he,he>n.length&&(he=n.length),ge=n.window}else ge=te,pe=oe-n.offset,he=n.length;he>ae&&(he=ae),ae-=he,n.length-=he;do{te[oe++]=ge[pe++]}while(--he);0===n.length&&(n.mode=Q);break;case V:if(0===ae)break e;te[oe++]=n.length,ae--,n.mode=Q;break;case W:if(n.wrap){for(;le<32;){if(0===ie)break e;ie--,se|=ee[ne++]<<le,le+=8}if(ce-=ae,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?i(n.check,te,ce,oe-ce):o(n.check,te,ce,oe-ce)),ce=ae,(n.flags?se:re(se))!==n.check){e.msg="incorrect data check",n.mode=J;break}se=0,le=0}n.mode=K;case K:if(n.wrap&&n.flags){for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=J;break}se=0,le=0}n.mode=G;case G:ke=g;break e;case J:ke=b;break e;case X:return w;case Y:default:return v}return e.next_out=oe,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,(n.wsize||ce!==e.avail_out&&n.mode<J&&(n.mode<W||t!==d))&&fe(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=X,w):(ue-=e.avail_in,ce-=e.avail_out,e.total_in+=ue,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?i(n.check,te,ce,e.next_out-ce):o(n.check,te,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===I?128:0)+(n.mode===N||n.mode===O?256:0),(0===ue&&0===ce||t===d)&&ke===p&&(ke=_),ke)},t.inflateEnd=function(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?v:(n.head=t,t.done=!1,p):v},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==R?v:n.mode===R&&o(1,t,r,0)!==n.check?b:fe(e,t,r,r)?(n.mode=X,w):(n.havedict=1,p):v},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(41),o=n(4),i=n(25),a=n(23),s=n(12),l=n(24),u=n(38),c=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,l,u,d,f,h=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=i.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new o.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(f="string"==typeof g?i.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(h.output,h.next_out),u=h.next_out-l,d=i.buf2string(h.output,l),h.next_out=u,h.avail_out=p-u,u&&o.arraySet(h.output,h.output,l,u,0),this.onData(d)):this.onData(o.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=d,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},function(e,t,n){"use strict";var r=n(4),o=4,i=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var u=0,c=1,d=2,f=29,h=256,p=h+1+f,g=30,m=19,v=2*p+1,b=15,w=16,_=7,y=256,x=16,k=17,A=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(p+2));l($);var E=new Array(2*g);l(E);var S=new Array(512);l(S);var R=new Array(256);l(R);var I=new Array(f);l(I);var F,T,O,U=new Array(g);function B(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e){return e<256?S[e]:S[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function Q(e,t,n){e.bi_valid>w-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>w-e.bi_valid,e.bi_valid+=n-w):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function M(e,t,n){Q(e,n[2*t],n[2*t+1])}function Z(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function H(e,t,n){var r,o,i=new Array(b+1),a=0;for(r=1;r<=b;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=Z(i[s]++,s))}}function q(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<m;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*y]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){e.bi_valid>8?N(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function W(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function K(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&W(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!W(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function G(e,t,n){var r,o,i,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===r?M(e,o,t):(M(e,(i=R[o])+h+1,t),0!==(a=P[i])&&Q(e,o-=I[i],a),M(e,i=L(--r),n),0!==(a=C[i])&&Q(e,r-=U[i],a))}while(s<e.last_lit);M(e,y,t)}function J(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=v,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)K(e,i,n);o=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,K(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(i=0;i<=b;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<v;n++)(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(i=p,g++),l[2*r+1]=i,r>u||(e.bl_count[i]++,a=0,r>=h&&(a=f[r-h]),s=l[2*r],e.opt_len+=s*(i+a),d&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==g){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(i=p;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>u||(l[2*o+1]!==i&&(e.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}(e,t),H(i,u,e.bl_count)}function X(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<l&&o===a||(s<u?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*x]++):s<=10?e.bl_tree[2*k]++:e.bl_tree[2*A]++,s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4))}function Y(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<u)do{M(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(M(e,o,e.bl_tree),s--),M(e,x,e.bl_tree),Q(e,s-3,2)):s<=10?(M(e,k,e.bl_tree),Q(e,s-3,3)):(M(e,A,e.bl_tree),Q(e,s-11,7));s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4)}}l(U);var ee=!1;function te(e,t,n,o){Q(e,(u<<1)+(o?1:0),3),function(e,t,n,o){V(e),o&&(N(e,n),N(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,r,o,i=new Array(b+1);for(n=0,r=0;r<f-1;r++)for(I[r]=n,e=0;e<1<<P[r];e++)R[n++]=r;for(R[n-1]=r,o=0,r=0;r<16;r++)for(U[r]=o,e=0;e<1<<C[r];e++)S[o++]=r;for(o>>=7;r<g;r++)for(U[r]=o<<7,e=0;e<1<<C[r]-7;e++)S[256+o++]=r;for(t=0;t<=b;t++)i[t]=0;for(e=0;e<=143;)$[2*e+1]=8,e++,i[8]++;for(;e<=255;)$[2*e+1]=9,e++,i[9]++;for(;e<=279;)$[2*e+1]=7,e++,i[7]++;for(;e<=287;)$[2*e+1]=8,e++,i[8]++;for(H($,p+1,i),e=0;e<g;e++)E[2*e+1]=5,E[2*e]=Z(e,5);F=new B($,P,h+1,p,b),T=new B(E,C,0,g,b),O=new B(new Array(0),j,0,m,_)}(),ee=!0),e.l_desc=new D(e.dyn_ltree,F),e.d_desc=new D(e.dyn_dtree,T),e.bl_desc=new D(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,q(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,r){var l,u,f=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<h;t++)if(0!==e.dyn_ltree[2*t])return a;return i}(e)),J(e,e.l_desc),J(e,e.d_desc),f=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),J(e,e.bl_desc),t=m-1;t>=3&&0===e.bl_tree[2*z[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(u=e.static_len+3+7>>>3)<=l&&(l=u)):l=u=n+5,n+4<=l&&-1!==t?te(e,t,n,r):e.strategy===o||u===l?(Q(e,(c<<1)+(r?1:0),3),G(e,$,E)):(Q(e,(d<<1)+(r?1:0),3),function(e,t,n,r){var o;for(Q(e,t-257,5),Q(e,n-1,5),Q(e,r-4,4),o=0;o<r;o++)Q(e,e.bl_tree[2*z[o]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),G(e,e.dyn_ltree,e.dyn_dtree)),q(e),r&&V(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(R[n]+h+1)]++,e.dyn_dtree[2*L(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){Q(e,c<<1,3),M(e,y,$),function(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r,o=n(4),i=n(43),a=n(27),s=n(26),l=n(12),u=0,c=1,d=3,f=4,h=5,p=0,g=1,m=-2,v=-3,b=-5,w=-1,_=1,y=2,x=3,k=4,A=0,P=2,C=8,j=9,z=15,$=8,E=286,S=30,R=19,I=2*E+1,F=15,T=3,O=258,U=O+T+1,B=32,D=42,L=69,N=73,Q=91,M=103,Z=113,H=666,q=1,V=2,W=3,K=4,G=3;function J(e,t){return e.msg=l[t],t}function X(e){return(e<<1)-(e>4?9:0)}function Y(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function oe(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,o.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=a(e.adler,t,i,n):2===e.state.wrap&&(e.adler=s(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function ie(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-U?e.strstart-(e.w_size-U):0,u=e.window,c=e.w_mask,d=e.prev,f=e.strstart+O,h=u[i+a-1],p=u[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<f);if(r=O-(f-i),i=f-O,r>a){if(e.match_start=t,a=r,r>=s)break;h=u[i+a-1],p=u[i+a]}}}while((t=d[t&c])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,n,r,i,a,s=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-U)){o.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);i+=s}if(0===e.strm.avail_in)break;if(n=oe(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=T)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+T-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<T)););}while(e.lookahead<U&&0!==e.strm.avail_in)}function se(e,t){for(var n,r;;){if(e.lookahead<U){if(ae(e),e.lookahead<U&&t===u)return q;if(0===e.lookahead)break}if(n=0,e.lookahead>=T&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-U&&(e.match_length=ie(e,n)),e.match_length>=T)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-T),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=T){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=e.strstart<T-1?e.strstart:T-1,t===f?(te(e,!0),0===e.strm.avail_out?W:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:V}function le(e,t){for(var n,r,o;;){if(e.lookahead<U){if(ae(e),e.lookahead<U&&t===u)return q;if(0===e.lookahead)break}if(n=0,e.lookahead>=T&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=T-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-U&&(e.match_length=ie(e,n),e.match_length<=5&&(e.strategy===_||e.match_length===T&&e.strstart-e.match_start>4096)&&(e.match_length=T-1)),e.prev_length>=T&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-T,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-T),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=T-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return q}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<T-1?e.strstart:T-1,t===f?(te(e,!0),0===e.strm.avail_out?W:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:V}function ue(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function ce(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=P,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?D:Z,e.adler=2===t.wrap?0:1,t.last_flush=u,i._tr_init(t),p):J(e,m)}function de(e){var t=ce(e);return t===p&&function(e){e.window_size=2*e.w_size,Y(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=T-1,e.match_available=0,e.ins_h=0}(e.state),t}function fe(e,t,n,r,i,a){if(!e)return m;var s=1;if(t===w&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>j||n!==C||r<8||r>15||t<0||t>9||a<0||a>k)return J(e,m);8===r&&(r=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*I),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*R+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(F+1),this.heap=new o.Buf16(2*E+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*E+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+T-1)/T),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,de(e)}r=[new ue(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===u)return q;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return q;if(e.strstart-e.block_start>=e.w_size-U&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?W:K):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),q)}),new ue(4,4,8,4,se),new ue(4,5,16,8,se),new ue(4,6,32,32,se),new ue(4,4,16,16,le),new ue(8,16,32,32,le),new ue(8,16,128,128,le),new ue(8,32,128,256,le),new ue(32,128,258,1024,le),new ue(32,258,258,4096,le)],t.deflateInit=function(e,t){return fe(e,t,C,z,$,A)},t.deflateInit2=fe,t.deflateReset=de,t.deflateResetKeep=ce,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,p):m},t.deflate=function(e,t){var n,o,a,l;if(!e||!e.state||t>h||t<0)return e?J(e,m):m;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===H&&t!==f)return J(e,0===e.avail_out?b:m);if(o.strm=e,n=o.last_flush,o.last_flush=t,o.status===D)if(2===o.wrap)e.adler=0,ne(o,31),ne(o,139),ne(o,8),o.gzhead?(ne(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),ne(o,255&o.gzhead.time),ne(o,o.gzhead.time>>8&255),ne(o,o.gzhead.time>>16&255),ne(o,o.gzhead.time>>24&255),ne(o,9===o.level?2:o.strategy>=y||o.level<2?4:0),ne(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(ne(o,255&o.gzhead.extra.length),ne(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=L):(ne(o,0),ne(o,0),ne(o,0),ne(o,0),ne(o,0),ne(o,9===o.level?2:o.strategy>=y||o.level<2?4:0),ne(o,G),o.status=Z);else{var v=C+(o.w_bits-8<<4)<<8;v|=(o.strategy>=y||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(v|=B),v+=31-v%31,o.status=Z,re(o,v),0!==o.strstart&&(re(o,e.adler>>>16),re(o,65535&e.adler)),e.adler=1}if(o.status===L)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),ee(e),a=o.pending,o.pending!==o.pending_buf_size));)ne(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=N)}else o.status=N;if(o.status===N)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),ee(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,ne(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=Q)}else o.status=Q;if(o.status===Q)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),ee(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,ne(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=M)}else o.status=M;if(o.status===M&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ee(e),o.pending+2<=o.pending_buf_size&&(ne(o,255&e.adler),ne(o,e.adler>>8&255),e.adler=0,o.status=Z)):o.status=Z),0!==o.pending){if(ee(e),0===e.avail_out)return o.last_flush=-1,p}else if(0===e.avail_in&&X(t)<=X(n)&&t!==f)return J(e,b);if(o.status===H&&0!==e.avail_in)return J(e,b);if(0!==e.avail_in||0!==o.lookahead||t!==u&&o.status!==H){var w=o.strategy===y?function(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===u)return q;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?W:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:V}(o,t):o.strategy===x?function(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=O){if(ae(e),e.lookahead<=O&&t===u)return q;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=T&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+O;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=O-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=T?(n=i._tr_tally(e,1,e.match_length-T),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?W:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?q:V}(o,t):r[o.level].func(o,t);if(w!==W&&w!==K||(o.status=H),w===q||w===W)return 0===e.avail_out&&(o.last_flush=-1),p;if(w===V&&(t===c?i._tr_align(o):t!==h&&(i._tr_stored_block(o,0,0,!1),t===d&&(Y(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),ee(e),0===e.avail_out))return o.last_flush=-1,p}return t!==f?p:o.wrap<=0?g:(2===o.wrap?(ne(o,255&e.adler),ne(o,e.adler>>8&255),ne(o,e.adler>>16&255),ne(o,e.adler>>24&255),ne(o,255&e.total_in),ne(o,e.total_in>>8&255),ne(o,e.total_in>>16&255),ne(o,e.total_in>>24&255)):(re(o,e.adler>>>16),re(o,65535&e.adler)),ee(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?p:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==D&&t!==L&&t!==N&&t!==Q&&t!==M&&t!==Z&&t!==H?J(e,m):(e.state=null,t===Z?J(e,v):p):m},t.deflateSetDictionary=function(e,t){var n,r,i,s,l,u,c,d,f=t.length;if(!e||!e.state)return m;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==D||n.lookahead)return m;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(Y(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new o.Buf8(n.w_size),o.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,ae(n);n.lookahead>=T;){r=n.strstart,i=n.lookahead-(T-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+T-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=T-1,ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=T-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(44),o=n(4),i=n(25),a=n(12),s=n(24),l=Object.prototype.toString,u=0,c=-1,d=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=o.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==u)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&n!==u)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),s.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=h,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,,,,,,,,,,,,,,,,,function(e,t,n){(e.exports=n(14)()).push([e.i,"@charset 'utf-8';\r\n\r\n* {\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n}\r\nhtml, body {\r\n    height: 100%;\r\n}\r\n.h1 {\r\n    font-size: 32px;\r\n    text-align: center;\r\n    height: 60px;\r\n    line-height: 60px;\r\n}\r\n.select-area {\r\n    display: block;\r\n    text-align: center;\r\n    height: 40px;\r\n    line-height: 40px;\r\n}\r\n.viewer {\r\n    width: 80%;\r\n    height: calc(100% - 60px - 40px);\r\n    margin-left: 10%;\r\n}\r\n\r\n.viewer iframe {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",""])},function(e,t,n){var r=n(67);"string"==typeof r&&(r=[[e.i,r,""]]);n(13)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){e.exports=n.p+"embedded-sample.html"},function(e,t,n){"use strict";n.r(t),function(e){var t=n(16),r=n.n(t),o=n(33),i=n(20),a=n(8);n(69),n(68),e.env.SERVER_PATH="0.4.1",window.API_DOMAIN="https://pdfanno.hshindo.com",window.API_PATH="/"+e.env.SERVER_PATH+"/",window.API_ROOT=window.API_DOMAIN+window.API_PATH,(async()=>{if("serviceWorker"in navigator)try{const e=navigator.serviceWorker.register("./sw.js");console.log("ServiceWorker registration successed. with scope: "+e.scope)}catch(e){console.log("ServiceWorker registration failed. reason: "+e)}})(),window.annoPage=new o.a,window.addEventListener("DOMContentLoaded",async()=>{const e=r()(document.URL).query(!0).pdf;if(!e)return;let[t,{pdf:n}]=await Promise.all([new Promise((e,t)=>{window.addEventListener("iframeReady",()=>{e(!0)}),window.annoPage.initializeViewer(null),window.annoPage.startViewerApplication()}),window.annoPage.loadPDFFromServer(e)]);console.log("ok:",t),window.annoPage.displayViewer({name:function(e){const t=e.split("/");return t[t.length-1]}(e),content:n});const o=r()(document.URL).query(!0).anno;if(!o)return;let[s,l]=await Promise.all([new Promise((e,t)=>{const n=()=>{window.removeEventListener("pagerendered",n),e(!0)};window.addEventListener("pagerendered",n)}),window.annoPage.loadAnnoFileFromServer(o)]);console.log("ok:",s),i.a(i.c(l)),setInterval(a.b,500)})}.call(this,n(19))}])});
//# sourceMappingURL=embedded-sample.bundle.js.map